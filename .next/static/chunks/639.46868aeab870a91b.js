"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[639],{9639:function(e,t,s){s.r(t),s.d(t,{default:function(){return eD}});var a=s(3827),l=s(4090),r=s(8371),n=s(8745),i=s(9744),c=s(3345),o=s(4059),d=s(8025),x=s(43),m=s(1530),h=s(3236),p=s(2235),u=s(6578),b=s(2891),g=s(1047),f=s(9251),j=s(2244),N=s(8390),v=s(8814),w=s(1657);let y=e=>{try{if("undefined"!=typeof Audio){let t=new Audio;switch(e){case"success":t.src="https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3";break;case"click":t.src="https://assets.mixkit.co/active_storage/sfx/2568/2568-preview.mp3",t.volume=.5;break;case"error":t.src="https://assets.mixkit.co/active_storage/sfx/2955/2955-preview.mp3";break;case"coin":t.src="https://assets.mixkit.co/active_storage/sfx/2019/2019-preview.mp3"}let s=localStorage.getItem("appSettings");if(s){let{sounds:e}=JSON.parse(s);if(!e)return}let a=t.play();void 0!==a&&a.catch(e=>{})}}catch(e){}},k=()=>{if("undefined"!=typeof navigator)try{let e=localStorage.getItem("appSettings");if(e){let{haptics:t}=JSON.parse(e);if(!t)return}navigator.vibrate&&navigator.vibrate(10)}catch(e){}},S=e=>{let{isOpen:t,onClose:s,onOpenLegal:i,onOpenHistory:o,onAgentLogin:d}=e,[m,w]=(0,l.useState)({notifications:!0,darkMode:!1,sounds:!0,haptics:!0});(0,l.useEffect)(()=>{let e=localStorage.getItem("appSettings");e&&w(JSON.parse(e))},[]);let S=(e,t)=>{let s={...m,[e]:t};w(s),localStorage.setItem("appSettings",JSON.stringify(s)),"sounds"===e&&t&&y("success"),"haptics"===e&&t&&k(),"darkMode"===e&&(t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))},D=r.E.div;return(0,a.jsx)(n.M,{children:t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(D,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,className:"fixed inset-0 bg-black/60 z-[60] backdrop-blur-md"}),(0,a.jsxs)(D,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",stiffness:350,damping:35},className:"fixed top-0 left-0 bottom-0 w-[85%] max-w-sm bg-slate-50 dark:bg-slate-900 z-[70] shadow-2xl flex flex-col rounded-r-[3rem] overflow-hidden",style:{position:"absolute"},children:[(0,a.jsxs)("div",{className:"p-8 bg-slate-900 text-white relative",children:[(0,a.jsx)("button",{onClick:s,className:"absolute top-6 right-6 text-white/40 hover:text-white transition-colors",children:(0,a.jsx)(p.Z,{className:"w-6 h-6"})}),(0,a.jsx)("div",{className:"w-14 h-14 bg-white rounded-2xl flex items-center justify-center p-2.5 mb-6 shadow-xl shadow-black/20",children:(0,a.jsx)("img",{src:"/logo.png",className:"w-full h-full object-contain"})}),(0,a.jsx)("h2",{className:"text-2xl font-black tracking-tight uppercase",children:"SAUKI MART"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)("p",{className:"text-white/40 text-[9px] font-black uppercase tracking-widest",children:"v2.5.0 Premium Edition"}),(0,a.jsx)("span",{className:"w-1 h-1 rounded-full bg-white/20"}),(0,a.jsxs)("p",{className:"text-green-400 text-[9px] font-black uppercase tracking-widest flex items-center gap-1",children:["Certified ",(0,a.jsx)(u.Z,{className:"w-2.5 h-2.5"})]})]})]}),(0,a.jsxs)("div",{className:"flex-1 p-8 space-y-8 overflow-y-auto no-scrollbar",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.25em] mb-5",children:"App Experience"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(C,{icon:c.Z,label:"Notifications",isActive:m.notifications,onToggle:()=>S("notifications",!m.notifications)}),(0,a.jsx)(C,{icon:m.darkMode?b.Z:g.Z,label:"Dark Mode",isActive:m.darkMode,onToggle:()=>S("darkMode",!m.darkMode),activeColor:"bg-indigo-600"}),(0,a.jsx)(C,{icon:f.Z,label:"Sound FX",isActive:m.sounds,onToggle:()=>S("sounds",!m.sounds),activeColor:"bg-purple-600"}),(0,a.jsx)(C,{icon:x.Z,label:"Haptic Feedback",isActive:m.haptics,onToggle:()=>S("haptics",!m.haptics),activeColor:"bg-blue-600"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.25em] mb-5",children:"Enterprise"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(A,{icon:j.Z,label:"Agent / Admin Login",subLabel:"Partner Access",onClick:()=>{s(),null==d||d()}}),(0,a.jsx)(A,{icon:N.Z,label:"Transaction History",subLabel:"Local Records",onClick:()=>{s(),null==o||o()}}),(0,a.jsx)(A,{icon:v.Z,label:"About Sauki Mart",subLabel:"Our Vision",onClick:()=>{s(),null==i||i()}}),(0,a.jsx)(A,{icon:h.Z,label:"Legal & Privacy",subLabel:"Compliance",onClick:()=>{s(),null==i||i()}})]})]})]}),(0,a.jsx)("div",{className:"p-10 border-t border-slate-200 dark:border-slate-800 bg-slate-100 dark:bg-slate-900/50",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)("p",{className:"text-[9px] text-slate-400 font-black uppercase tracking-[0.3em]",children:"Sauki Data Links"}),(0,a.jsxs)("div",{className:"flex gap-8 opacity-40 hover:opacity-100 transition-opacity duration-500",children:[(0,a.jsx)("img",{src:"/smedan.png",className:"h-7 w-auto grayscale"}),(0,a.jsx)("img",{src:"/coat.png",className:"h-7 w-auto grayscale"})]})]})})]})]})})},C=e=>{let{icon:t,label:s,isActive:l,onToggle:n,activeColor:i="bg-blue-600"}=e,c=r.E.div;return(0,a.jsxs)("button",{onClick:n,className:"w-full flex items-center justify-between p-4 rounded-[1.75rem] bg-white border border-slate-100 shadow-sm active:scale-95 transition-all",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:(0,w.cn)("w-10 h-10 rounded-2xl flex items-center justify-center transition-all shadow-inner",l?"".concat(i," text-white"):"bg-slate-100 text-slate-400"),children:(0,a.jsx)(t,{className:"w-5 h-5"})}),(0,a.jsx)("span",{className:"text-xs font-black text-slate-900 uppercase tracking-tight",children:s})]}),(0,a.jsx)("div",{className:(0,w.cn)("w-12 h-7 rounded-full relative transition-colors p-1",l?i:"bg-slate-200"),children:(0,a.jsx)(c,{animate:{x:l?20:0},className:"w-5 h-5 bg-white rounded-full shadow-md"})})]})},A=e=>{let{icon:t,label:s,subLabel:l,onClick:r}=e;return(0,a.jsxs)("button",{onClick:r,className:"w-full flex items-center gap-4 p-4 rounded-[1.75rem] bg-white border border-slate-100 shadow-sm hover:bg-slate-50 transition-all text-left group active:scale-95",children:[(0,a.jsx)("div",{className:"w-11 h-11 rounded-2xl bg-slate-50 flex items-center justify-center group-hover:bg-blue-50 transition-colors shadow-inner",children:(0,a.jsx)(t,{className:"w-5 h-5 text-slate-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-xs font-black text-slate-900 uppercase tracking-tight block",children:s}),(0,a.jsx)("span",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-widest",children:l})]})]})},D=e=>{let{isOpen:t,onClose:s,title:i,children:c}=e,o=r.E.div;(0,l.useEffect)(()=>{if(t){try{window.history.pushState({modal:!0},"",null)}catch(e){console.warn("Modal history push failed:",e)}let e=e=>{s()};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}}},[t]);let d=()=>{try{window.history.back()}catch(e){s()}};return(0,a.jsx)(n.M,{children:t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:d,className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[60]"}),(0,a.jsxs)(o,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed bottom-0 fixed-mobile bg-white rounded-t-3xl z-[70] max-h-[90vh] overflow-y-auto shadow-[0_-8px_30px_rgba(0,0,0,0.12)]",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white/90 backdrop-blur-md z-10 px-6 py-4 flex items-center justify-between border-b border-slate-100",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:i}),(0,a.jsx)("button",{onClick:d,className:"p-2 -mr-2 text-slate-500 hover:bg-slate-100 rounded-full",children:(0,a.jsx)(p.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"p-6 pb-24 safe-area-bottom",children:c})]})]})})};var T=s(1524),P=s(7805),I=s(5904),E=s(7366),_=s(3459),Z=s(684),L=s(9475),O=s(7976),R=s(2493),F=s(8994);let M=e=>{let{className:t,variant:s="primary",size:l="base",isLoading:n,children:i,disabled:c,...o}=e,d=r.E.button;return(0,a.jsxs)(d,{whileHover:c||n?{}:{y:-1},whileTap:c||n?{}:{scale:.98,y:0},className:(0,w.cn)("inline-flex items-center justify-center font-semibold transition-all focus-visible:outline-none disabled:opacity-50 disabled:pointer-events-none w-full duration-200 active:scale-95 rounded-xl",{sm:"h-10 px-4 text-sm",base:"h-12 px-6 text-base",lg:"h-14 px-8 text-lg"}[l],{primary:"bg-accent-blue text-white shadow-elevation-4 hover:bg-blue-600 active:shadow-elevation-2",secondary:"bg-primary-100 text-primary-900 hover:bg-primary-200 shadow-elevation-2",outline:"border border-primary-200 bg-white hover:bg-primary-50 text-primary-900 shadow-elevation-2",ghost:"hover:bg-primary-100 text-primary-700",destructive:"bg-accent-red text-white shadow-elevation-4 hover:bg-red-500 active:shadow-elevation-2",success:"bg-accent-green text-white shadow-elevation-4 hover:bg-green-600 active:shadow-elevation-2",warning:"bg-accent-orange text-white shadow-elevation-4 hover:bg-orange-600 active:shadow-elevation-2"}[s],t),disabled:n||c,...o,children:[n?(0,a.jsx)(F.Z,{className:"mr-2 h-4 w-4 animate-spin"}):null,i]})};var U=s(4715);let W=()=>(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-slate-900 p-6 rounded-2xl flex items-center justify-between shadow-lg shadow-slate-200",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-white text-lg",children:"Legal Bundle"}),(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"PDF Version (Signed)"})]}),(0,a.jsxs)(M,{onClick:()=>{let e=new R.kH,t=e.internal.pageSize.getWidth()-30,s=20;e.setFontSize(18),e.setFont("helvetica","bold"),e.text("SAUKI MART - LEGAL DOCUMENTS",15,s),s+=10,e.setFontSize(10),e.setFont("helvetica","normal"),e.text("Generated: ".concat(new Date().toLocaleDateString()),15,s),s+=15,e.setFontSize(14),e.setFont("helvetica","bold"),e.text("PRIVACY POLICY",15,s),s+=8,e.setFontSize(9),e.setFont("helvetica","normal");let a=e.splitTextToSize('\nSauki Data Links ("we," "us," "our," or "the Company") is committed to protecting the privacy and security of your personal data. This Privacy Policy explains how we collect, use, disclose, store, and protect your personal information when you use the SAUKI MART mobile application (the "App"), our associated services, or interact with us.\n\nWe process personal data in strict compliance with the Nigeria Data Protection Act 2023 ("NDPA").\n\n1. INFORMATION WE COLLECT\na. Information You Provide Directly: Contact details: Phone number, email address, and name. Transaction-related information.\nb. Information Collected Automatically: Device information and Usage data.\nc. Information from Third Parties: Payment verification data from Flutterwave.\n\n2. HOW WE USE YOUR PERSONAL DATA\n- To provide and maintain our services.\n- To verify transactions and prevent fraud.\n- To communicate with you.\n- To comply with legal obligations.\n\n3. DATA SECURITY\nWe implement appropriate technical and organisational measures to protect your Personal Data, including encryption and access controls.\n\n4. YOUR RIGHTS\nUnder the NDPA, you have the right to Access, Rectify, Erase, Restrict, and Object to processing of your data. Contact us at saukidatalinks@gmail.com.\n    '.trim(),t);e.text(a,15,s),(s+=4*a.length+10)>250&&(e.addPage(),s=20),e.setFontSize(14),e.setFont("helvetica","bold"),e.text("TERMS OF SERVICE",15,s),s+=8,e.setFontSize(9),e.setFont("helvetica","normal");let l=e.splitTextToSize('\nThese Terms of Service constitute a legally binding agreement between you and Sauki Data Links.\n\n1. SERVICES\nThe App acts as an intermediary platform facilitating:\n- Purchase and instant delivery of airtime and data bundles.\n- Purchase and delivery of physical mobile devices.\n- Payment processing via secure gateways.\n\n2. PAYMENTS AND REFUNDS\n- Digital Products (Airtime/Data Bundles): Sales are final and non-refundable once successfully delivered.\n- Failed Deliveries: If payment is successful but delivery fails, we will retry or refund your wallet.\n- Physical Products: Refunds or returns subject to inspection for defects within 7 days.\n\n3. USER OBLIGATIONS\nYou agree to provide accurate information, including correct phone numbers for VTU transactions.\n\n4. LIMITATION OF LIABILITY\nServices are provided "as is". We are not liable for network failures of third-party Telecommunication Providers.\n\n5. CONTACT US\nEmail: saukidatalinks@gmail.com\nPhone: +2348061934056 and +2347044647081\n    '.trim(),t);e.text(l,15,s),e.save("Sauki_Mart_Legal_Documents.pdf")},className:"w-auto px-6 h-12 bg-white text-slate-900 hover:bg-slate-100 font-bold",children:[(0,a.jsx)(U.Z,{className:"w-4 h-4 mr-2"})," Download PDF"]})]}),(0,a.jsxs)("div",{className:"h-[450px] overflow-y-auto bg-white rounded-xl border border-slate-100 p-6 shadow-inner no-scrollbar",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-8 border-b border-slate-100 pb-4",children:[(0,a.jsx)("img",{src:"/logo.png",alt:"Sauki",className:"w-10 h-10 object-contain"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"font-black text-slate-900",children:"SAUKI MART"}),(0,a.jsx)("p",{className:"text-[10px] text-slate-500 uppercase tracking-widest",children:"Official Legal Documents"})]})]}),(0,a.jsxs)("div",{className:"prose prose-sm prose-slate max-w-none",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Privacy Policy"}),(0,a.jsx)("p",{className:"text-xs text-slate-500 font-mono mb-4",children:"Effective Date: December 29, 2025"}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Sauki Data Links"}),' ("we," "us," "our," or "the Company") is committed to protecting the privacy and security of your personal data. We process personal data in strict compliance with the ',(0,a.jsx)("strong",{children:"Nigeria Data Protection Act 2023"}),' ("NDPA").']}),(0,a.jsx)("h4",{className:"font-bold text-slate-800 mt-4",children:"1. Information We Collect"}),(0,a.jsxs)("ul",{className:"list-disc pl-4 space-y-1",children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Direct:"})," Name, phone number, email address."]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Automatic:"})," Device information, IP address."]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Third Party:"})," Payment verification from Flutterwave."]})]}),(0,a.jsx)("h4",{className:"font-bold text-slate-800 mt-4",children:"2. How We Use Data"}),(0,a.jsx)("p",{children:"We use data to process transactions, verify payments, and communicate service updates. We do not sell your personal data."}),(0,a.jsx)("h4",{className:"font-bold text-slate-800 mt-4",children:"3. Your Rights"}),(0,a.jsxs)("p",{children:["You have the right to access, rectify, or erase your data. Contact our Data Protection Officer at ",(0,a.jsx)("strong",{children:"saukidatalinks@gmail.com"}),"."]}),(0,a.jsx)("hr",{className:"my-8 border-slate-200"}),(0,a.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Terms of Service"}),(0,a.jsx)("p",{className:"text-xs text-slate-500 font-mono mb-4",children:"Effective Date: December 29, 2025"}),(0,a.jsx)("p",{children:'These Terms constitute a legally binding agreement between you ("User") and Sauki Data Links.'}),(0,a.jsx)("h4",{className:"font-bold text-slate-800 mt-4",children:"1. Services"}),(0,a.jsx)("p",{children:"We provide Virtual Top-Up (VTU) and E-commerce services. We are an intermediary and do not own the telecommunication networks."}),(0,a.jsx)("h4",{className:"font-bold text-slate-800 mt-4",children:"2. Payments & Refunds"}),(0,a.jsxs)("ul",{className:"list-disc pl-4 space-y-1",children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Digital Products:"})," Sales are final once delivered. Failed deliveries are refunded."]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Physical Products:"})," 7-day return policy for defects."]})]}),(0,a.jsx)("h4",{className:"font-bold text-slate-800 mt-4",children:"3. User Obligations"}),(0,a.jsx)("p",{children:"You are responsible for providing accurate information, including correct phone numbers. We are not liable for funding wrong numbers provided by you."}),(0,a.jsx)("h4",{className:"font-bold text-slate-800 mt-4",children:"4. Contact Us"}),(0,a.jsxs)("p",{children:["Email: saukidatalinks@gmail.com ",(0,a.jsx)("br",{})," Phone: +2348061934056 / +2347044647081"]})]})]})]}),G=l.forwardRef((e,t)=>{let{className:s,label:l,error:r,icon:n,...i}=e;return(0,a.jsxs)("div",{className:"space-y-2 w-full group",children:[l&&(0,a.jsx)("label",{className:"text-xs font-semibold text-primary-600 ml-0.5 uppercase tracking-wide group-focus-within:text-accent-blue transition-colors",children:l}),(0,a.jsxs)("div",{className:"relative",children:[n&&(0,a.jsx)("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-primary-400 group-focus-within:text-accent-blue transition-colors",children:n}),(0,a.jsx)("input",{className:(0,w.cn)("flex h-12 w-full rounded-xl bg-primary-50 px-4 py-3 text-base ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-primary-400 focus-visible:outline-none focus-visible:bg-white focus-visible:ring-2 focus-visible:ring-accent-blue/30 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200 shadow-elevation-2 border border-primary-200/50 focus:border-accent-blue/30 text-primary-900 font-medium",n&&"pl-11",r&&"border-accent-red/50 focus:border-accent-red/30 focus:ring-accent-red/20",s),ref:t,...i})]}),r&&(0,a.jsx)("p",{className:"text-xs font-medium text-accent-red",children:r})]})});G.displayName="Input";var B=s(6160);let z=e=>{let{onBack:t}=e,[s,r]=(0,l.useState)(null),n=e=>{window.open("https://wa.me/234".concat(e.substring(1)),"_blank")},i=e=>{window.open("tel:".concat(e))};return(0,a.jsxs)("div",{className:"min-h-screen bg-[#F2F2F7]",children:[(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-xl border-b border-slate-200/60 sticky top-0 z-10 pt-safe pb-4 px-6",children:(0,a.jsx)("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Support"})}),(0,a.jsxs)("div",{className:"p-5 space-y-8 pb-32",children:[(0,a.jsxs)("section",{children:[(0,a.jsx)("h3",{className:"text-[11px] font-semibold text-slate-400 uppercase tracking-wider mb-2 pl-4",children:"Resolution Center"}),(0,a.jsx)("div",{className:"bg-white rounded-[1.5rem] overflow-hidden shadow-sm border border-slate-100",children:(0,a.jsxs)("button",{onClick:()=>r("complaint"),className:"w-full p-5 flex items-center justify-between active:bg-slate-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center text-red-600",children:(0,a.jsx)(T.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("h4",{className:"text-base font-bold text-slate-900",children:"Lodge a Complaint"}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Report failed transactions or issues"})]})]}),(0,a.jsx)(P.Z,{className:"w-5 h-5 text-slate-300"})]})})]}),(0,a.jsxs)("section",{children:[(0,a.jsx)("h3",{className:"text-[11px] font-semibold text-slate-400 uppercase tracking-wider mb-2 pl-4",children:"Contact Us"}),(0,a.jsxs)("div",{className:"bg-white rounded-[1.5rem] overflow-hidden shadow-sm border border-slate-100 divide-y divide-slate-100",children:[(0,a.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center text-blue-600",children:(0,a.jsx)(I.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs font-bold text-blue-600 uppercase",children:"Customer Care"}),(0,a.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:"0806 193 4056"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>i("08061934056"),className:"w-9 h-9 bg-slate-100 rounded-full flex items-center justify-center text-slate-900 hover:bg-slate-200",children:(0,a.jsx)(I.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>n("08061934056"),className:"w-9 h-9 bg-green-100 rounded-full flex items-center justify-center text-green-600 hover:bg-green-200",children:(0,a.jsx)(E.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center text-purple-600",children:(0,a.jsx)(_.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs font-bold text-purple-600 uppercase",children:"Tech Support"}),(0,a.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:"0704 464 7081"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>i("07044647081"),className:"w-9 h-9 bg-slate-100 rounded-full flex items-center justify-center text-slate-900 hover:bg-slate-200",children:(0,a.jsx)(I.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>n("07044647081"),className:"w-9 h-9 bg-green-100 rounded-full flex items-center justify-center text-green-600 hover:bg-green-200",children:(0,a.jsx)(E.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"p-4 flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center text-slate-600",children:(0,a.jsx)(Z.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"overflow-hidden",children:[(0,a.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Email"}),(0,a.jsx)("p",{className:"text-sm font-semibold text-slate-900 truncate",children:"saukidatalinks@gmail.com"})]})]})]})]}),(0,a.jsxs)("section",{children:[(0,a.jsx)("h3",{className:"text-[11px] font-semibold text-slate-400 uppercase tracking-wider mb-2 pl-4",children:"Legal"}),(0,a.jsx)("div",{className:"bg-white rounded-[1.5rem] overflow-hidden shadow-sm border border-slate-100",children:(0,a.jsxs)("button",{onClick:()=>r("legal"),className:"w-full p-5 flex items-center justify-between active:bg-slate-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center text-slate-600",children:(0,a.jsx)(L.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("h4",{className:"text-base font-bold text-slate-900",children:"Terms & Privacy"}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Read our legal documentation"})]})]}),(0,a.jsx)(P.Z,{className:"w-5 h-5 text-slate-300"})]})})]})]}),(0,a.jsxs)(D,{isOpen:!!s,onClose:()=>r(null),title:"complaint"===s?"Lodge Complaint":"Legal Documents",children:["complaint"===s&&(0,a.jsx)(H,{onClose:()=>r(null)}),"legal"===s&&(0,a.jsx)(W,{})]})]})},H=e=>{let{onClose:t}=e,[s,r]=(0,l.useState)({phone:"",message:""}),[n,i]=(0,l.useState)("idle"),c=async()=>{if(!s.phone||!s.message)return B.A.error("Please fill all fields");i("submitting");try{await fetch("/api/support",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),i("success")}catch(e){B.A.error("Failed to send. Check connection."),i("idle")}};return"success"===n?(0,a.jsxs)("div",{className:"text-center py-8 space-y-6 animate-in fade-in zoom-in duration-300",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto text-green-600",children:(0,a.jsx)(O.Z,{className:"w-10 h-10"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-2xl font-black text-slate-900",children:"Complaint Received"}),(0,a.jsx)("p",{className:"text-slate-500 mt-2 px-4 leading-relaxed",children:"We have notified the admin team. We will investigate your transaction and get back to you shortly."})]}),(0,a.jsx)("div",{className:"bg-amber-50 p-6 rounded-[1.5rem] border border-amber-100 text-left",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(T.Z,{className:"w-6 h-6 text-amber-500 shrink-0 mt-1"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-bold text-amber-900 text-sm uppercase",children:"Is it Urgent?"}),(0,a.jsx)("p",{className:"text-xs text-amber-700 mt-1 mb-4",children:"If you need immediate resolution, please contact us on WhatsApp with your Transaction ID."}),(0,a.jsxs)("button",{onClick:()=>window.open("https://wa.me/2348061934056?text=URGENT COMPLAINT: ".concat(encodeURIComponent(s.message)),"_blank"),className:"w-full bg-green-600 text-white h-12 rounded-xl font-bold flex items-center justify-center gap-2 shadow-lg shadow-green-100",children:[(0,a.jsx)(E.Z,{className:"w-5 h-5"})," Chat on WhatsApp"]})]})]})}),(0,a.jsx)(M,{variant:"ghost",onClick:t,children:"Close"})]}):(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsx)("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100 text-sm text-slate-500",children:"Please provide the phone number used for the transaction and a brief description of the error."}),(0,a.jsx)(G,{label:"Affected Phone Number",placeholder:"080...",value:s.phone,onChange:e=>r({...s,phone:e.target.value})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs font-bold text-slate-500 ml-1 uppercase",children:"Issue Details"}),(0,a.jsx)("textarea",{className:"w-full p-4 bg-slate-100 rounded-2xl h-32 focus:outline-none focus:ring-2 focus:ring-blue-500/20 resize-none font-medium text-slate-900",placeholder:"E.g. I bought 1GB data but didn't receive it...",value:s.message,onChange:e=>r({...s,message:e.target.value})})]}),(0,a.jsx)(M,{onClick:c,isLoading:"submitting"===n,className:"bg-slate-900 text-white h-14 rounded-2xl font-bold shadow-xl",children:"Submit Complaint"})]})};var J=s(4563);let Y=e=>{let{onNavigate:t}=e,[s,n]=(0,l.useState)(!1),[p,u]=(0,l.useState)(!1),[b,g]=(0,l.useState)(null),f=(0,l.useRef)(null),[j,N]=(0,l.useState)(null);(0,l.useEffect)(()=>{fetch("/api/system/message").then(e=>e.json()).then(e=>{e&&e.content&&"PUSH"!==e.type&&g(e)}).catch(()=>{})},[]);let v=r.E.div;return(0,a.jsxs)("div",{className:"h-screen bg-primary-50 flex flex-col overflow-hidden",children:[(0,a.jsx)(S,{isOpen:s,onClose:()=>n(!1),onOpenLegal:()=>{n(!1),u(!0)},onOpenHistory:()=>{n(!1),t("history")},onAgentLogin:()=>{n(!1),t("agent")}}),j&&(0,a.jsx)(J.S,{ref:f,transaction:(0,w.O3)(j)}),(0,a.jsxs)("header",{className:"px-6 pt-12 pb-4 flex justify-between items-center z-10 shrink-0 relative",children:[(0,a.jsx)("div",{children:(0,a.jsx)("h1",{className:"text-2xl font-bold text-primary-900 tracking-tight",children:"SAUKI MART"})}),(0,a.jsx)(v,{whileTap:{scale:.95},onClick:()=>n(!0),className:"w-10 h-10 bg-white rounded-full shadow-lg flex items-center justify-center active:scale-90 transition-transform cursor-pointer",children:(0,a.jsx)(i.Z,{className:"w-5 h-5 text-primary-900"})})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto no-scrollbar px-4 pt-2 space-y-4 pb-20",children:[b&&(0,a.jsxs)(v,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:(0,w.cn)("relative overflow-hidden rounded-2xl p-4 flex items-center shadow-elevation-2 border","alert"===b.type?"bg-accent-red/10 border-accent-red/20 text-accent-red":"warning"===b.type?"bg-accent-orange/10 border-accent-orange/20 text-accent-orange":"bg-accent-blue/10 border-accent-blue/20 text-accent-blue"),children:[(0,a.jsx)("div",{className:"p-2 rounded-lg mr-3 shrink-0 font-semibold",children:(0,a.jsx)(c.Z,{className:"w-4 h-4"})}),(0,a.jsx)("div",{className:"flex-1 overflow-hidden h-5 relative",children:(0,a.jsxs)(v,{animate:{x:["100%","-100%"]},transition:{repeat:1/0,duration:20,ease:"linear"},className:"absolute whitespace-nowrap text-xs font-semibold uppercase tracking-wide pt-0.5",children:[b.content," • ",b.content," • ",b.content]})})]}),(0,a.jsxs)(v,{whileTap:{scale:.97},whileHover:{y:-4},onClick:()=>t("agent"),className:"w-full aspect-[2/1] bg-gradient-to-br from-primary-900 via-primary-800 to-primary-900 rounded-3xl relative overflow-hidden shadow-elevation-8 p-6 flex flex-col justify-between group cursor-pointer",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-80 h-80 bg-accent-purple/20 rounded-full blur-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-700 pointer-events-none"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-60 h-60 bg-accent-blue/15 rounded-full blur-3xl pointer-events-none"}),(0,a.jsxs)("div",{className:"relative z-10 flex justify-between items-start",children:[(0,a.jsx)("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 px-3 py-1.5 rounded-lg",children:(0,a.jsxs)("span",{className:"text-xs font-semibold text-white uppercase tracking-wider flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"w-3.5 h-3.5"})," Partner Access"]})}),(0,a.jsx)("div",{className:"w-11 h-11 bg-white/10 backdrop-blur rounded-xl flex items-center justify-center text-white shadow-elevation-4 group-hover:bg-white/20 transition-colors",children:(0,a.jsx)(d.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("h2",{className:"text-3xl font-bold text-white uppercase tracking-tight leading-tight mb-1.5",children:["Agent",(0,a.jsx)("br",{}),"Hub"]}),(0,a.jsx)("p",{className:"text-white/70 text-xs font-medium max-w-[160px] leading-relaxed",children:"Manage portfolio & wallet"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)(v,{whileTap:{scale:.96},whileHover:{y:-4},onClick:()=>t("store"),className:"bg-white rounded-2xl shadow-elevation-4 flex flex-col justify-between h-40 relative overflow-hidden group border border-primary-100/50 cursor-pointer",children:[(0,a.jsx)("div",{className:"absolute -right-8 -top-8 w-28 h-28 bg-accent-purple/10 rounded-full group-hover:scale-150 transition-transform duration-500 pointer-events-none"}),(0,a.jsxs)("div",{className:"p-4 relative z-10",children:[(0,a.jsx)("div",{className:"w-11 h-11 bg-accent-purple/20 rounded-xl flex items-center justify-center text-accent-purple mb-3",children:(0,a.jsx)(x.Z,{className:"w-5 h-5 font-bold"})}),(0,a.jsxs)("h3",{className:"text-sm font-bold text-primary-900 uppercase tracking-tight leading-tight",children:["Premium",(0,a.jsx)("br",{}),"Store"]})]}),(0,a.jsx)("p",{className:"px-4 pb-4 text-xs font-medium text-primary-500 relative z-10",children:"Tech Gadgets"})]}),(0,a.jsxs)(v,{whileTap:{scale:.96},whileHover:{y:-4},onClick:()=>t("data"),className:"bg-gradient-to-br from-accent-blue to-accent-blue/80 rounded-2xl shadow-elevation-4 flex flex-col justify-between h-40 relative overflow-hidden group cursor-pointer",children:[(0,a.jsx)("div",{className:"absolute -left-8 -bottom-8 w-28 h-28 bg-white/10 rounded-full group-hover:scale-150 transition-transform duration-500 pointer-events-none"}),(0,a.jsxs)("div",{className:"p-4 relative z-10",children:[(0,a.jsx)("div",{className:"w-11 h-11 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center text-white mb-3",children:(0,a.jsx)(m.Z,{className:"w-5 h-5 font-bold"})}),(0,a.jsxs)("h3",{className:"text-sm font-bold text-white uppercase tracking-tight leading-tight",children:["Instant",(0,a.jsx)("br",{}),"Data"]})]}),(0,a.jsx)("p",{className:"px-4 pb-4 text-xs font-medium text-white/80 relative z-10",children:"Fast Bundles"})]})]}),(0,a.jsxs)(v,{whileTap:{scale:.97},whileHover:{y:-4},onClick:()=>u(!0),className:"w-full bg-white p-4 rounded-2xl shadow-elevation-4 flex items-center justify-between cursor-pointer border border-primary-100/50 group",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-green/20 rounded-xl flex items-center justify-center text-accent-green",children:(0,a.jsx)(h.Z,{className:"w-5 h-5 font-bold"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-bold text-primary-900 uppercase tracking-tight",children:"Help & Support"}),(0,a.jsx)("p",{className:"text-xs font-medium text-primary-500 uppercase tracking-wide mt-0.5",children:"Complaints • Contact"})]})]}),(0,a.jsx)("div",{className:"w-9 h-9 bg-primary-100 rounded-lg flex items-center justify-center group-hover:bg-primary-200 transition-colors",children:(0,a.jsx)(d.Z,{className:"w-4 h-4 text-primary-600"})})]}),(0,a.jsxs)(v,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"w-full bg-gradient-to-br from-primary-900/5 to-accent-blue/5 rounded-3xl p-6 border border-primary-200/50 backdrop-blur-sm",children:[(0,a.jsx)("p",{className:"text-xs font-black uppercase text-primary-600 mb-4 tracking-widest",children:"Why Choose Us"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-3",children:[{icon:"⚡",label:"Instant",desc:"Data in seconds"},{icon:"\uD83D\uDD10",label:"Secure",desc:"Encrypted payments"},{icon:"\uD83D\uDC8E",label:"Best Rate",desc:"Unbeatable prices"}].map((e,t)=>(0,a.jsxs)(v,{whileTap:{scale:.95},className:"text-center p-3 rounded-xl bg-white/60 backdrop-blur border border-white/80 hover:bg-white hover:shadow-elevation-2 transition-all group",children:[(0,a.jsx)("div",{className:"text-2xl mb-2 group-hover:scale-110 transition-transform",children:e.icon}),(0,a.jsx)("p",{className:"text-xs font-black text-primary-900 uppercase tracking-tight leading-tight",children:e.label}),(0,a.jsx)("p",{className:"text-[10px] text-primary-500 font-medium mt-1",children:e.desc})]},t))})]}),(0,a.jsx)("div",{className:"text-center pt-2 pb-4",children:(0,a.jsx)("p",{className:"text-xs font-semibold text-primary-400 uppercase tracking-widest",children:"Secured & Trusted"})})]}),(0,a.jsx)(D,{isOpen:p,onClose:()=>u(!1),title:"Help & Support",children:(0,a.jsx)(z,{})})]})};async function V(e,t){let s=await fetch("".concat("/api").concat(e),{...t,cache:"no-store"});if(!s.ok){let e;let t=await s.text();try{e=JSON.parse(t)}catch(e){}throw Error((null==e?void 0:e.error)||t||"An unexpected error occurred")}return s.json()}let K={getProducts:()=>V("/products"),getDataPlans:()=>V("/data-plans"),initiateEcommercePayment:e=>V("/ecommerce/initiate-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),initiateDataPayment:e=>V("/data/initiate-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),verifyTransaction:e=>V("/transactions/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tx_ref:e})}),trackTransactions:e=>V("/transactions/track?phone=".concat(e)),agentRegister:e=>V("/agent/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),agentLogin:e=>V("/agent/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),agentGetBalance:e=>V("/agent/balance?agentId="+e),agentWalletPurchase:e=>V("/agent/purchase",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({agentId:e.agentId,agentPin:e.pin,type:e.type,payload:e.payload})})};var q=s(5566);let Q=e=>{let{value:t,onChange:s,onComplete:n,isLoading:i}=e,c=e=>{!i&&t.length<4&&s(t+e)},o=r.E.button;return r.E.div,(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"text-center mb-2",children:[(0,a.jsx)("h3",{className:"text-sm font-bold text-slate-900 uppercase mb-2",children:"Enter PIN"}),(0,a.jsx)("div",{className:"flex justify-center gap-2 mb-3",children:[0,1,2,3].map(e=>(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg font-bold text-lg flex items-center justify-center border-2 transition-all ".concat(void 0!==t[e]?"bg-slate-900 border-slate-800 text-white":"bg-slate-100 border-slate-200 text-slate-400"),children:void 0!==t[e]?"●":"○"},e))})]}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[["1","2","3"],["4","5","6"],["7","8","9"],["","0",""]].map((e,s)=>(0,a.jsx)(l.Fragment,{children:e.map((e,l)=>e?(0,a.jsx)(o,{whileTap:{scale:.92},onClick:()=>c(e),disabled:i||t.length>=4,className:"h-12 rounded-lg font-bold text-base uppercase transition-all border border-slate-300 active:scale-95 ".concat(i||t.length>=4?"bg-slate-100 border-slate-200 text-slate-400 cursor-not-allowed":"bg-white text-slate-900 hover:bg-slate-50 shadow-sm"),children:e},e):(0,a.jsx)("div",{},"empty-".concat(s,"-").concat(l)))},s))}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-1",children:[(0,a.jsxs)(o,{whileTap:{scale:.92},onClick:()=>{i||s(t.slice(0,-1))},disabled:i||0===t.length,className:"h-12 rounded-lg font-bold uppercase flex items-center justify-center gap-1.5 border transition-all text-sm ".concat(i||0===t.length?"bg-slate-100 border-slate-200 text-slate-400 cursor-not-allowed":"bg-red-50 border-red-200 text-red-600 hover:bg-red-100"),children:[(0,a.jsx)(q.Z,{className:"w-4 h-4"}),"Clear"]}),(0,a.jsxs)(o,{whileTap:{scale:.92},onClick:()=>{4===t.length&&n&&n(t)},disabled:i||4!==t.length,className:"h-12 rounded-lg font-bold uppercase flex items-center justify-center gap-1.5 border transition-all text-sm ".concat(i||4!==t.length?"bg-slate-100 border-slate-200 text-slate-400 cursor-not-allowed":"bg-green-50 border-green-200 text-green-600 hover:bg-green-100"),children:[(0,a.jsx)(d.Z,{className:"w-4 h-4"}),"Submit"]})]}),i&&(0,a.jsx)("div",{className:"text-center pt-2",children:(0,a.jsxs)("div",{className:"inline-flex items-center gap-2 text-xs font-bold text-slate-600 uppercase tracking-wide",children:[(0,a.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-600 animate-bounce"}),"Processing..."]})})]})};var X=s(3879),$=s(834),ee=s(3416),et=s(9823),es=s(8998),ea=s(2457),el=s(7451),er=s(7404);let en=(0,l.forwardRef)((e,t)=>{let{transaction:s}=e,l="delivered"===s.status||"paid"===s.status||"successful"===s.status,r="pending"===s.status;return(0,a.jsx)("div",{style:{position:"fixed",left:"-9999px",top:"0",opacity:0,pointerEvents:"none"},children:(0,a.jsxs)("div",{ref:t,className:"w-[600px] h-[600px] bg-gradient-to-b from-white via-white to-slate-50 text-slate-900 font-sans flex flex-col overflow-hidden relative",style:{fontFamily:"'Inter', sans-serif"},children:[(0,a.jsx)("div",{className:"h-1 bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900"}),(0,a.jsxs)("div",{className:"px-6 pt-5 pb-4 flex items-center justify-between border-b-2 border-slate-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center border-2 border-slate-200 flex-shrink-0 shadow-sm",children:(0,a.jsx)("img",{src:"/logo.png",alt:"Sauki Logo",className:"w-full h-full object-contain p-1",crossOrigin:"anonymous"})}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("h1",{className:"text-xl font-black text-slate-900 tracking-tight leading-none",children:"SAUKI MART"}),(0,a.jsx)("p",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest",children:"Digital Commerce"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 px-3 py-1.5 rounded-full border text-[9px] font-black uppercase tracking-widest flex-shrink-0 whitespace-nowrap ".concat(l?"bg-green-50 border-green-200 text-green-700":r?"bg-amber-50 border-amber-200 text-amber-700":"bg-red-50 border-red-200 text-red-700"),children:[l?(0,a.jsx)(O.Z,{className:"w-3.5 h-3.5"}):(0,a.jsx)(es.Z,{className:"w-3.5 h-3.5"}),(0,a.jsx)("span",{children:l?"DELIVERED":r?"PENDING":"FAILED"})]})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden px-6 py-4",children:[(0,a.jsxs)("div",{className:"text-center pb-4 border-b-2 border-dashed border-slate-200",children:[(0,a.jsx)("p",{className:"text-[8px] font-bold uppercase text-slate-400 tracking-widest mb-1",children:"Transaction Total"}),(0,a.jsx)("h2",{className:"text-4xl font-black text-slate-900 tracking-tighter mb-1",children:(0,w.xG)(s.amount)}),(0,a.jsx)("p",{className:"text-[9px] font-semibold text-slate-500 uppercase tracking-wide",children:"ecommerce"===s.type?"Product Purchase":"data"===s.type?"Data Bundle":"wallet_funding"===s.type?"Wallet Topup":"Transaction"})]}),(0,a.jsxs)("div",{className:"flex-1 py-3 space-y-2 text-xs overflow-y-auto",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("p",{className:"font-bold text-slate-700 uppercase tracking-wider text-[8px]",children:"Customer Details"}),(0,a.jsxs)("div",{className:"bg-slate-50 rounded-lg p-2.5 space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-500 font-semibold",children:"Name:"}),(0,a.jsx)("span",{className:"font-bold text-slate-900",children:s.customerName||"Sauki Customer"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-slate-500 font-semibold",children:"Phone:"}),(0,a.jsx)("span",{className:"font-mono text-slate-900 text-[9px] font-bold",children:s.customerPhone})]}),s.deliveryState&&(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("span",{className:"text-slate-500 font-semibold flex items-center gap-1",children:[(0,a.jsx)(ea.Z,{className:"w-3 h-3"})," State:"]}),(0,a.jsx)("span",{className:"font-bold text-slate-900 text-right",children:s.deliveryState})]})]})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("p",{className:"font-bold text-slate-700 uppercase tracking-wider text-[8px]",children:"Order Details"}),(0,a.jsx)("div",{className:"bg-slate-50 rounded-lg p-2.5 space-y-1",children:s.items&&s.items.length>0?(0,a.jsx)(a.Fragment,{children:s.items.map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-between border-b border-slate-200 pb-1 last:border-0 last:pb-0",children:[(0,a.jsx)("span",{className:"text-slate-700 font-semibold truncate flex-1",children:e.name}),(0,a.jsx)("span",{className:"text-slate-900 font-bold ml-2 flex-shrink-0",children:(0,w.xG)(e.price)})]},t))}):(0,a.jsx)("div",{className:"text-slate-700 font-semibold leading-snug",children:s.description})})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("p",{className:"font-bold text-slate-500 uppercase tracking-wider text-[8px]",children:["Ref: ",(0,a.jsx)("span",{className:"font-mono text-slate-900",children:s.tx_ref})]}),(0,a.jsx)("p",{className:"text-[8px] text-slate-500",children:s.date})]})]})]}),(0,a.jsx)("div",{className:"border-t-2 border-slate-200 bg-slate-900 text-white px-6 py-3",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-[8px] font-bold text-slate-400 uppercase tracking-widest",children:[(0,a.jsx)(I.Z,{className:"w-3 h-3"})," Support"]}),(0,a.jsx)("p",{className:"text-xs font-bold leading-tight",children:"0806 193 4056"}),(0,a.jsx)("p",{className:"text-xs font-bold leading-tight",children:"0704 464 7081"})]}),(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-[8px] font-bold text-slate-400 uppercase tracking-widest",children:[(0,a.jsx)(el.Z,{className:"w-3 h-3"})," Website"]}),(0,a.jsx)("p",{className:"text-xs font-bold break-all",children:"www.saukimart.online"})]})]}),(0,a.jsxs)("div",{className:"pt-2 border-t border-slate-800 flex items-center justify-center gap-2",children:[(0,a.jsx)(er.Z,{className:"w-3 h-3 text-yellow-400"}),(0,a.jsx)("p",{className:"text-[7px] font-bold uppercase text-slate-400 tracking-widest",children:"Verified by Sauki Data Links"})]}),(0,a.jsx)("p",{className:"text-center text-[7px] text-slate-500 mt-1",children:"Thank you for your business!"})]})}),(0,a.jsx)("div",{className:"h-1 bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900"})]})})});en.displayName="BrandedReceipt";let ei=e=>{let{title:t,products:s,icon:l,onSelect:n}=e,i=r.E.div;return 0===s.length?null:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"px-2 mb-3 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xl",children:l}),(0,a.jsx)("h2",{className:"text-lg font-bold text-slate-900 uppercase tracking-tight",children:t}),(0,a.jsxs)("span",{className:"text-xs font-semibold text-slate-500 ml-auto",children:[s.length," item",1!==s.length?"s":""]})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:s.map(e=>(0,a.jsxs)(i,{whileTap:{scale:.95},whileHover:{y:-2},onClick:()=>n(e),className:"group bg-white border border-slate-200 rounded-2xl overflow-hidden cursor-pointer hover:shadow-lg transition-all active:scale-95",children:[(0,a.jsx)("div",{className:"w-full aspect-square bg-slate-50 flex items-center justify-center p-3 border-b border-slate-100 group-hover:bg-slate-100 transition-colors",children:(0,a.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-contain mix-blend-multiply group-hover:scale-105 transition-transform duration-300"})}),(0,a.jsxs)("div",{className:"p-3",children:[(0,a.jsx)("h3",{className:"font-semibold text-sm text-slate-900 line-clamp-2 leading-tight mb-2",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"font-black text-slate-900 text-lg",children:(0,w.xG)(e.price)}),(0,a.jsx)("span",{className:"inline-block px-2 py-1 bg-green-100 text-green-700 text-[10px] font-bold rounded-md border border-green-200",children:"In Stock"})]})]})]},e.id))})]})},ec=e=>{let{agent:t,onBack:s}=e,[n,i]=(0,l.useState)([]),[c,o]=(0,l.useState)(null),[d,x]=(0,l.useState)("device"),[m,h]=(0,l.useState)("details"),[p,u]=(0,l.useState)({name:"",phone:"",state:""}),[b,g]=(0,l.useState)(""),[f,j]=(0,l.useState)(""),[N,v]=(0,l.useState)(null),[y,k]=(0,l.useState)(!1),[S,C]=(0,l.useState)(!1),A=(0,l.useRef)(null),[T,P]=(0,l.useState)(null),[I,E]=(0,l.useState)(null);(0,l.useEffect)(()=>{_()},[]);let _=async()=>{k(!0);try{let e=await K.getProducts();i(e)}catch(e){console.error("Failed to load products")}finally{k(!1)}};(0,l.useEffect)(()=>{let e;return N&&"payment"===m&&(C(!0),e=setInterval(async()=>{try{let s=await K.verifyTransaction(N.tx_ref);if(!t){let e={tx_ref:N.tx_ref,amount:N.amount,createdAt:new Date().toISOString(),type:"ecommerce",status:s.status,product:c||void 0,customerName:p.name,phone:p.phone,deliveryData:{manifest:null==c?void 0:c.name}};(0,w.bl)(e)}("paid"===s.status||"delivered"===s.status)&&(Z(s),C(!1),clearInterval(e))}catch(e){}},3e3)),()=>clearInterval(e)},[N,m]);let Z=e=>{h("success"),B.A.success("Payment confirmed!");let s={...e,createdAt:new Date().toISOString(),amount:e.amount||(null==N?void 0:N.amount)||0,type:"ecommerce",product:c,customerName:p.name,phone:p.phone,tx_ref:(null==N?void 0:N.tx_ref)||e.tx_ref,deliveryData:{manifest:null==c?void 0:c.name}};t?E(e):((0,w.bl)(s),E(s))},L=()=>{p.name&&p.phone&&p.state?t?h("agent_pin"):W():h("form")},R=async()=>{if(c&&t){if(4!==f.length)return B.A.error("Enter valid 4-digit PIN");k(!0);try{let e=await K.agentWalletPurchase({agentId:t.id,pin:f,type:"ecommerce",payload:{productId:c.id,simId:b||void 0,name:p.name,phone:p.phone,state:p.state}});v({tx_ref:e.transaction.tx_ref,amount:e.transaction.amount,account_number:"WALLET",account_name:"WALLET",bank:"WALLET"}),Z(e.transaction)}catch(e){B.A.error(e.message||"Purchase failed")}finally{k(!1)}}},W=async()=>{if(c){k(!0);try{let e=await K.initiateEcommercePayment({productId:c.id,simId:b||void 0,...p});v(e),t||(0,w.bl)({id:"temp-"+Date.now(),tx_ref:e.tx_ref,type:"ecommerce",status:"pending",amount:e.amount,createdAt:new Date().toISOString(),product:c,customerName:p.name,phone:p.phone,deliveryData:{manifest:c.name}}),h("payment")}catch(e){B.A.error(e.message||"Error creating order")}finally{k(!1)}}},z=async()=>{if(N){k(!0);try{let e=await K.verifyTransaction(N.tx_ref);"paid"===e.status||"delivered"===e.status?Z(e):B.A.info("Payment not received yet.")}catch(e){B.A.error("Verification failed.")}finally{k(!1)}}},H=async()=>{if(null!==A.current)try{let e=await (0,et.YM)(A.current,{cacheBust:!0,pixelRatio:3}),t=document.createElement("a");t.download="SAUKI-STORE-".concat(null==N?void 0:N.tx_ref,".png"),t.href=e,t.click(),B.A.success("Receipt downloaded")}catch(e){B.A.error("Failed to generate receipt")}},J=n.filter(e=>(e.category||"device")===d),Y=n.filter(e=>"sim"===e.category),V=Y.find(e=>e.id===b),q=c?c.price+(V?V.price:0):0,es=n.filter(e=>"device"===(e.category||"device")).length,ea=n.filter(e=>"sim"===e.category).length,el=n.filter(e=>"package"===e.category).length,er=r.E.div;return(0,a.jsxs)("div",{className:"h-screen bg-white flex flex-col overflow-hidden",children:[T&&(0,a.jsx)(en,{ref:A,transaction:(0,w.O3)(I||{})}),(0,a.jsxs)("div",{className:"px-6 pt-safe pb-3 bg-white shrink-0 flex items-center gap-4 border-b border-slate-100",children:[s&&(0,a.jsx)("button",{onClick:s,className:"p-2 text-slate-600 active:scale-90 transition-transform",children:(0,a.jsx)(X.Z,{className:"w-6 h-6"})}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("h1",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Store"})})]}),c?(0,a.jsxs)(D,{isOpen:!!c,onClose:()=>{o(null),h("details")},title:"",children:["details"===m&&c&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"aspect-[4/3] bg-slate-50 rounded-2xl overflow-hidden flex items-center justify-center p-6 border border-slate-200",children:(0,a.jsx)("img",{src:c.image,alt:c.name,className:"w-full h-full object-contain mix-blend-multiply"})}),(0,a.jsxs)("div",{className:"space-y-4 px-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-black text-slate-900 uppercase leading-tight mb-1",children:c.name}),(0,a.jsx)("p",{className:"text-3xl font-black text-slate-900 tracking-tight",children:(0,w.xG)(c.price)})]}),c.description&&(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"text-sm text-slate-600 leading-relaxed",children:c.description})}),("device"===c.category||"package"===c.category)&&Y.length>0&&(0,a.jsxs)("div",{className:"bg-slate-50 border border-slate-200 p-4 rounded-xl",children:[(0,a.jsx)("label",{className:"text-xs font-bold text-slate-900 uppercase tracking-widest mb-2 block",children:"Add Data SIM"}),(0,a.jsxs)("select",{className:"w-full p-3 rounded-lg border border-slate-200 bg-white text-slate-900 font-semibold text-sm outline-none focus:ring-2 focus:ring-blue-500 transition-all",value:b,onChange:e=>g(e.target.value),children:[(0,a.jsx)("option",{value:"",children:"None"}),Y.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.name," — +",(0,w.xG)(e.price)]},e.id))]})]}),q>c.price&&(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3 flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-blue-900",children:"Bundle Total"}),(0,a.jsx)("span",{className:"font-black text-blue-900 text-xl",children:(0,w.xG)(q)})]})]}),(0,a.jsxs)(M,{onClick:L,className:"bg-slate-900 text-white h-12 font-bold rounded-xl uppercase tracking-wide w-full mt-4",children:[t?"Pay with Wallet":"Continue"," →"]})]}),"form"===m&&c&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-14 h-14 bg-white rounded-lg flex items-center justify-center p-2 border border-slate-100",children:(0,a.jsx)("img",{src:c.image,className:"w-full h-full object-contain mix-blend-multiply"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-xs font-bold text-slate-600 uppercase tracking-wide",children:"Order Total"}),(0,a.jsx)("p",{className:"text-lg font-black text-slate-900 uppercase mt-0.5",children:c.name}),(0,a.jsx)("p",{className:"text-base font-black text-blue-600 mt-1",children:(0,w.xG)(q)})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-bold text-slate-700 uppercase tracking-wide mb-1.5 block",children:"Full Name"}),(0,a.jsx)(G,{placeholder:"John Doe",value:p.name,onChange:e=>u({...p,name:e.target.value}),className:"rounded-lg h-11 font-semibold text-sm bg-white border border-slate-200"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-bold text-slate-700 uppercase tracking-wide mb-1.5 block",children:"Phone Number"}),(0,a.jsx)(G,{type:"tel",placeholder:"08012345678",value:p.phone,onChange:e=>u({...p,phone:e.target.value}),className:"rounded-lg h-11 font-semibold text-sm bg-white border border-slate-200"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-bold text-slate-700 uppercase tracking-wide mb-1.5 block",children:"Delivery Address"}),(0,a.jsx)(G,{placeholder:"Apartment, Street, City, State",value:p.state,onChange:e=>u({...p,state:e.target.value}),className:"rounded-lg h-11 font-semibold text-sm bg-white border border-slate-200"})]})]}),(0,a.jsx)(M,{onClick:L,isLoading:y,className:"bg-slate-900 text-white h-12 font-bold rounded-lg uppercase tracking-wide shadow-lg w-full mt-2",children:t?"Authorize Charge":"Continue to Payment"})]}),"agent_pin"===m&&t&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[(0,a.jsx)("p",{className:"text-xs font-bold text-blue-900 uppercase tracking-wide mb-1",children:"Wallet Debit"}),(0,a.jsx)("p",{className:"text-3xl font-black text-blue-900",children:(0,w.xG)(q)}),(0,a.jsx)("p",{className:"text-xs text-blue-700 mt-2 font-semibold",children:"from your available balance"})]}),(0,a.jsx)(Q,{value:f,onChange:j,onComplete:R,isLoading:y})]}),"payment"===m&&N&&!t&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-orange-50 border border-orange-200 p-5 rounded-xl text-center",children:[(0,a.jsx)("p",{className:"text-xs text-orange-900 mb-2 font-bold uppercase tracking-wide",children:"Transfer Exactly"}),(0,a.jsx)("p",{className:"text-4xl font-black text-orange-900",children:(0,w.xG)(N.amount)}),(0,a.jsx)("p",{className:"text-xs text-orange-700 mt-2 font-semibold",children:S&&(0,a.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,a.jsx)($.Z,{className:"w-3 h-3 animate-spin"})," Verifying..."]})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"bg-white border border-slate-200 p-4 rounded-lg",children:[(0,a.jsx)("p",{className:"text-xs text-slate-500 uppercase tracking-wide font-bold mb-1",children:"Bank Name"}),(0,a.jsx)("p",{className:"font-black text-slate-900 text-base uppercase",children:N.bank})]}),(0,a.jsxs)("div",{className:"bg-white border-2 border-slate-200 p-4 rounded-lg flex items-center justify-between group hover:border-blue-300 transition-all",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-slate-500 uppercase tracking-wide font-bold mb-1",children:"Account Number"}),(0,a.jsx)("p",{className:"font-black text-2xl text-slate-900 font-mono",children:N.account_number})]}),(0,a.jsx)(M,{variant:"ghost",className:"w-10 h-10 p-0 text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg",onClick:()=>{navigator.clipboard.writeText(N.account_number),B.A.success("Copied!")},children:(0,a.jsx)(ee.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"bg-white border border-slate-200 p-4 rounded-lg",children:[(0,a.jsx)("p",{className:"text-xs text-slate-500 uppercase tracking-wide font-bold mb-1",children:"Beneficiary Name"}),(0,a.jsx)("p",{className:"font-black text-slate-900 text-sm uppercase",children:N.account_name})]})]}),(0,a.jsxs)("div",{className:"space-y-2 mt-4",children:[(0,a.jsx)(M,{onClick:z,isLoading:y,className:"bg-green-600 hover:bg-green-700 h-11 text-white font-bold shadow-lg rounded-lg uppercase tracking-wide w-full",children:"Confirm Payment Made"}),(0,a.jsx)("div",{className:"bg-slate-50 p-3 rounded-lg text-center border border-slate-100",children:(0,a.jsx)("p",{className:"text-xs font-bold text-slate-600 uppercase tracking-wide",children:"Payment is being monitored"})})]})]}),"success"===m&&c&&N&&(0,a.jsxs)("div",{className:"text-center space-y-4 py-2",children:[(0,a.jsx)(en,{ref:A,transaction:(0,w.O3)(I||{tx_ref:N.tx_ref,amount:N.amount,createdAt:new Date().toISOString(),type:"ecommerce",product:c,description:c.name+(V?" + ".concat(V.name):""),status:"paid",customerName:p.name,customerPhone:p.phone},t)}),(0,a.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto shadow-lg border border-green-200",children:(0,a.jsx)(O.Z,{className:"w-9 h-9 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Order Confirmed!"}),(0,a.jsx)("p",{className:"text-xs text-slate-600 mt-1 font-semibold uppercase",children:"Dispatch in progress"})]}),(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3",children:[(0,a.jsxs)("p",{className:"font-bold text-blue-900 text-sm flex items-center gap-2 justify-center",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-blue-600 animate-pulse"}),"We'll contact ",p.phone]}),(0,a.jsx)("p",{className:"text-xs text-blue-700 mt-1",children:"for final delivery coordination"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 pt-2",children:[(0,a.jsxs)(M,{onClick:H,className:"bg-slate-900 text-white h-11 font-bold rounded-lg uppercase tracking-wide",children:[(0,a.jsx)(U.Z,{className:"w-4 h-4 mr-2"})," Save Receipt"]}),(0,a.jsx)(M,{variant:"ghost",onClick:()=>{s?s():(o(null),h("details"),v(null),u({name:"",phone:"",state:""}),g(""))},className:"font-bold text-slate-400 text-xs uppercase tracking-wide",children:"Close"})]})]})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"flex-1 overflow-y-auto no-scrollbar px-4 pt-4 pb-4 space-y-4",children:y&&0===n.length?(0,a.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,a.jsx)(F.Z,{className:"animate-spin w-8 h-8 text-slate-400"})}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,a.jsxs)(er,{whileTap:{scale:.95},onClick:()=>x("device"),className:(0,w.cn)("p-3 rounded-xl text-center cursor-pointer transition-all border","device"===d?"bg-slate-900 text-white border-slate-900 shadow-lg":"bg-white text-slate-700 border-slate-200 hover:border-slate-300"),children:[(0,a.jsx)("div",{className:"text-2xl mb-1",children:"\uD83D\uDCF1"}),(0,a.jsx)("p",{className:"text-xs font-bold uppercase tracking-tight",children:"Devices"}),(0,a.jsx)("p",{className:"text-[10px] opacity-70",children:es})]}),(0,a.jsxs)(er,{whileTap:{scale:.95},onClick:()=>x("sim"),className:(0,w.cn)("p-3 rounded-xl text-center cursor-pointer transition-all border","sim"===d?"bg-slate-900 text-white border-slate-900 shadow-lg":"bg-white text-slate-700 border-slate-200 hover:border-slate-300"),children:[(0,a.jsx)("div",{className:"text-2xl mb-1",children:"\uD83D\uDD0C"}),(0,a.jsx)("p",{className:"text-xs font-bold uppercase tracking-tight",children:"SIMs"}),(0,a.jsx)("p",{className:"text-[10px] opacity-70",children:ea})]}),(0,a.jsxs)(er,{whileTap:{scale:.95},onClick:()=>x("package"),className:(0,w.cn)("p-3 rounded-xl text-center cursor-pointer transition-all border","package"===d?"bg-slate-900 text-white border-slate-900 shadow-lg":"bg-white text-slate-700 border-slate-200 hover:border-slate-300"),children:[(0,a.jsx)("div",{className:"text-2xl mb-1",children:"\uD83C\uDF81"}),(0,a.jsx)("p",{className:"text-xs font-bold uppercase tracking-tight",children:"Packages"}),(0,a.jsx)("p",{className:"text-[10px] opacity-70",children:el})]})]}),(0,a.jsx)("div",{children:(0,a.jsx)(ei,{title:"device"===d?"Devices":"sim"===d?"Data SIMs":"Full Packages",products:J,icon:"device"===d?"\uD83D\uDCF1":"sim"===d?"\uD83D\uDD0C":"\uD83C\uDF81",onSelect:o})})]})})})]})},eo=e=>{let{agent:t,onBack:s}=e,[n,i]=(0,l.useState)([]),[c,o]=(0,l.useState)(null),[d,x]=(0,l.useState)(null),[m,h]=(0,l.useState)(""),[p,u]=(0,l.useState)("plans"),[b,g]=(0,l.useState)(null),[f,j]=(0,l.useState)(!1),[N,v]=(0,l.useState)(!1),[y,k]=(0,l.useState)(""),S=(0,l.useRef)(null),[C,A]=(0,l.useState)(null);(0,l.useEffect)(()=>{T()},[]);let T=async()=>{try{let e=await K.getDataPlans();i(e)}catch(e){console.error("Failed to load plans")}},P=e=>{u("success"),B.A.success("Data Delivered!");let s={...e,createdAt:new Date().toISOString(),amount:(null==d?void 0:d.price)||0,type:"data",dataPlan:d,tx_ref:(null==b?void 0:b.tx_ref)||e.tx_ref,status:"delivered"};t?A(e):((0,w.bl)(s),A(s))},I=c?n.filter(e=>e.network===c):[],E=e=>{o(e),u("plans")},_=e=>{x(e),u("confirm")},Z=async()=>{if(d&&t){if(4!==y.length)return B.A.error("Enter valid 4-digit PIN");j(!0);try{let e=await K.agentWalletPurchase({agentId:t.id,pin:y,type:"data",payload:{planId:d.id,phone:m}});g({tx_ref:e.transaction.tx_ref,amount:e.transaction.amount,account_number:"WALLET",account_name:"WALLET",bank:"WALLET"}),P(e.transaction)}catch(e){B.A.error(e.message||"Purchase failed")}finally{j(!1)}}},L=async()=>{j(!0);try{let e=await K.initiateDataPayment({planId:d.id,phone:m});g(e),t||(0,w.bl)({id:"temp-"+Date.now(),tx_ref:e.tx_ref,type:"data",status:"pending",phone:m,amount:d.price,createdAt:new Date().toISOString(),dataPlan:d||void 0}),u("payment")}catch(e){B.A.error(e.message||"Connection error. Try again.")}finally{j(!1)}},R=async()=>{if(b){j(!0);try{let e=await K.verifyTransaction(b.tx_ref);"delivered"===e.status?P(e):"paid"===e.status?B.A.info("Payment confirmed. Delivery processing..."):B.A.info("Payment not yet received. Please wait.")}catch(e){B.A.error("Could not verify status.")}finally{j(!1)}}},F=async()=>{if(null!==S.current)try{let e=await (0,et.YM)(S.current,{cacheBust:!0,pixelRatio:3}),t=document.createElement("a");t.download="SAUKI-DATA-".concat(null==b?void 0:b.tx_ref,".png"),t.href=e,t.click(),B.A.success("Receipt downloaded")}catch(e){B.A.error("Failed to generate receipt")}},W=()=>{s?s():("success"===p&&(o(null),x(null),h("")),u("plans"),g(null))};return r.E.button,r.E.div,(0,a.jsxs)("div",{className:"p-4 pb-6",children:[c?(0,a.jsxs)("div",{children:[(0,a.jsxs)("button",{onClick:()=>o(null),className:"text-xs text-blue-600 mb-3 hover:text-blue-700 font-bold flex items-center gap-1",children:[(0,a.jsx)(X.Z,{className:"w-4 h-4"})," Back"]}),(0,a.jsxs)("h2",{className:"text-lg font-bold text-slate-900 mb-3 flex items-center gap-2",children:[(0,a.jsx)("img",{src:"/".concat(c.toLowerCase(),".png"),className:"w-5 h-5 object-contain"}),c," Bundles"]}),(0,a.jsx)("div",{className:"grid gap-2",children:I.map(e=>(0,a.jsxs)("button",{onClick:()=>_(e),className:"bg-white p-4 rounded-lg border border-slate-200 shadow-sm flex justify-between items-center cursor-pointer hover:border-slate-300 hover:shadow-md transition-all active:scale-95",children:[(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"text-base font-bold text-slate-900",children:e.data}),(0,a.jsx)("div",{className:"text-xs text-slate-500 mt-0.5",children:e.validity})]}),(0,a.jsx)("div",{className:"text-base font-bold text-slate-900 bg-slate-50 px-3 py-1.5 rounded border border-slate-100",children:(0,w.xG)(e.price)})]},e.id))})]}):(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("p",{className:"text-xs font-bold text-slate-600 uppercase tracking-wide mb-3",children:"Select Network"}),["MTN","AIRTEL","GLO"].map(e=>(0,a.jsxs)("button",{onClick:()=>E(e),className:(0,w.cn)("w-full h-16 rounded-lg flex items-center px-4 font-bold text-base shadow-sm transition-all border border-slate-200 active:scale-95 bg-white hover:shadow-md","MTN"===e?"hover:border-yellow-300":"AIRTEL"===e?"hover:border-red-300":"hover:border-green-300"),children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg bg-slate-100 flex items-center justify-center mr-3 p-2",children:(0,a.jsx)("img",{src:"/".concat(e.toLowerCase(),".png"),alt:e,className:"w-full h-full object-contain"})}),(0,a.jsx)("span",{className:"text-slate-800",children:e})]},e))]}),(0,a.jsxs)(D,{isOpen:!!d,onClose:W,title:"",children:["confirm"===p&&d&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"text-center pb-4 border-b border-slate-100",children:[(0,a.jsx)("span",{className:(0,w.cn)("px-3 py-1 rounded text-xs font-bold mb-2 inline-block shadow-sm text-white",w.xU[d.network]),children:d.network}),(0,a.jsx)("h3",{className:"text-4xl font-black text-slate-900 my-2",children:d.data}),(0,a.jsx)("p",{className:"text-slate-600 text-xs font-semibold",children:d.validity})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-bold text-slate-700 uppercase tracking-wide mb-2 block",children:"Recipient Phone"}),(0,a.jsx)(G,{placeholder:"08012345678",type:"tel",value:m,onChange:e=>h(e.target.value),className:"h-11 text-base font-semibold rounded-lg border border-slate-200"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center bg-slate-50 p-4 rounded-lg border border-slate-200",children:[(0,a.jsx)("span",{className:"text-slate-700 font-semibold text-sm",children:"Total"}),(0,a.jsx)("span",{className:"text-2xl font-black text-slate-900",children:(0,w.xG)(d.price)})]}),(0,a.jsx)(M,{onClick:()=>{d&&!(m.length<10)&&(t?u("agent_pin"):L())},isLoading:f,className:(0,w.cn)("h-11 text-base font-bold rounded-lg uppercase tracking-wide text-white w-full",t?"bg-purple-600 hover:bg-purple-700":"bg-slate-900 hover:bg-slate-800"),children:t?"Pay with Wallet":"Continue"})]}),"agent_pin"===p&&t&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-xs font-bold text-blue-900 uppercase tracking-wide mb-1",children:"Wallet Debit"}),(0,a.jsx)("p",{className:"text-3xl font-black text-blue-900",children:d&&(0,w.xG)(d.price)}),(0,a.jsx)("p",{className:"text-xs text-blue-700 mt-2 font-semibold",children:"from your available balance"})]}),(0,a.jsx)(Q,{value:y,onChange:k,onComplete:Z,isLoading:f})]}),"payment"===p&&b&&!t&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-orange-50 border border-orange-200 p-5 rounded-lg text-center",children:[(0,a.jsx)("p",{className:"text-xs text-orange-900 mb-2 font-bold uppercase tracking-wide",children:"Transfer Exactly"}),(0,a.jsx)("p",{className:"text-4xl font-black text-orange-900",children:(0,w.xG)(b.amount)}),(0,a.jsx)("p",{className:"text-xs text-orange-700 mt-2 font-semibold",children:"to the account below"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"bg-white border border-slate-200 p-4 rounded-lg",children:[(0,a.jsx)("p",{className:"text-[10px] text-slate-500 uppercase tracking-widest font-bold mb-1",children:"Bank Name"}),(0,a.jsx)("p",{className:"font-bold text-slate-900 text-base",children:b.bank})]}),(0,a.jsxs)("div",{className:"bg-white border border-slate-200 p-4 rounded-lg flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] text-slate-500 uppercase tracking-widest font-bold mb-1",children:"Account Number"}),(0,a.jsx)("p",{className:"font-mono text-xl font-bold tracking-wider text-slate-900",children:b.account_number})]}),(0,a.jsx)(M,{variant:"ghost",className:"w-10 h-10 p-0 text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg",onClick:()=>{navigator.clipboard.writeText(b.account_number),B.A.success("Copied!")},children:(0,a.jsx)(ee.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"bg-white border border-slate-200 p-4 rounded-lg",children:[(0,a.jsx)("p",{className:"text-[10px] text-slate-500 uppercase tracking-widest font-bold mb-1",children:"Account Name"}),(0,a.jsx)("p",{className:"font-bold text-slate-900 text-sm",children:b.account_name})]})]}),(0,a.jsxs)("div",{className:"space-y-2 mt-4",children:[(0,a.jsx)(M,{onClick:R,isLoading:f,className:"bg-green-600 hover:bg-green-700 h-11 text-white font-bold shadow-lg rounded-lg uppercase tracking-wide w-full",children:"Confirm Payment Made"}),(0,a.jsx)("div",{className:"bg-slate-50 p-3 rounded-lg text-center border border-slate-100",children:(0,a.jsx)("p",{className:"text-xs font-bold text-slate-600 uppercase tracking-wide",children:"Manual verification required"})})]})]}),"success"===p&&d&&b&&(0,a.jsxs)("div",{className:"text-center space-y-4 py-2",children:[(0,a.jsx)(en,{ref:S,transaction:(0,w.O3)(C||{tx_ref:b.tx_ref,amount:d.price,createdAt:new Date().toISOString(),type:"data",dataPlan:d,status:"delivered",phone:m},t)}),(0,a.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto shadow-lg border border-green-200",children:(0,a.jsx)(O.Z,{className:"w-9 h-9 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Data Delivered!"}),(0,a.jsxs)("p",{className:"text-xs text-slate-600 mt-1",children:[d.data," sent to ",m,"."]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 pt-2",children:[(0,a.jsxs)(M,{onClick:F,className:"bg-slate-900 text-white h-11 font-bold rounded-lg uppercase tracking-wide",children:[(0,a.jsx)(U.Z,{className:"w-4 h-4 mr-2"})," Save Receipt"]}),(0,a.jsx)(M,{variant:"ghost",onClick:W,className:"font-bold text-slate-400 text-xs uppercase tracking-wide",children:"Close"})]})]})]})]})};var ed=s(9910),ex=s(1049),em=s(6227),eh=s(9496),ep=s(7307);let eu=e=>{let{agent:t,transactions:s}=e;r.E.div;let n=(0,l.useMemo)(()=>{let e=s.length,t=s.reduce((e,t)=>"wallet_funding"===t.type?e:e+t.amount,0),a=s.filter(e=>"data"===e.type).length,l=s.filter(e=>"ecommerce"===e.type).length,r=s.filter(e=>"wallet_funding"===e.type).reduce((e,t)=>e+t.amount,0),n=new Date,i=new Date(n.getTime()-6048e5),c=new Date(n.getTime()-12096e5),o=s.filter(e=>new Date(e.createdAt)>=i&&"wallet_funding"!==e.type).reduce((e,t)=>e+t.amount,0),d=s.filter(e=>{let t=new Date(e.createdAt);return t>=c&&t<i&&"wallet_funding"!==e.type}).reduce((e,t)=>e+t.amount,0),x=s.filter(e=>"data"===e.type).reduce((e,t)=>e+t.amount,0),m=s.filter(e=>"ecommerce"===e.type).reduce((e,t)=>e+t.amount,0);return{totalTransactions:e,totalRevenue:t,dataSales:a,storeSales:l,totalDeposits:r,revenueGrowth:d>0?(o-d)/d*100:0,topCategory:x>m?"Data":"Store",currentWeekRevenue:o,previousWeekRevenue:d,conversionRate:r>0?(t/r*100).toFixed(1):"0",dataSalesRevenue:x,storeSalesRevenue:m}},[s]);return(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xs font-black text-slate-600 uppercase tracking-wide mb-2",children:"Sales Summary"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[(0,a.jsx)("p",{className:"text-[10px] text-blue-900 font-bold uppercase tracking-wider mb-1",children:"Data Sales"}),(0,a.jsx)("p",{className:"text-lg font-black text-blue-900",children:n.dataSales}),(0,a.jsx)("p",{className:"text-xs text-blue-700 font-semibold mt-1",children:(0,w.xG)(n.dataSalesRevenue)})]}),(0,a.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3",children:[(0,a.jsx)("p",{className:"text-[10px] text-purple-900 font-bold uppercase tracking-wider mb-1",children:"Device Sales"}),(0,a.jsx)("p",{className:"text-lg font-black text-purple-900",children:n.storeSales}),(0,a.jsx)("p",{className:"text-xs text-purple-700 font-semibold mt-1",children:(0,w.xG)(n.storeSalesRevenue)})]})]})]})})},eb=e=>{let{icon:t,label:s,onClick:l,color:r="bg-slate-900"}=e;return(0,a.jsxs)("button",{onClick:l,className:"bg-white p-4 rounded-[1.5rem] shadow-sm border border-slate-100 flex flex-col items-center justify-center gap-3 h-28 active:scale-95 transition-all group hover:shadow-lg",children:[(0,a.jsx)("div",{className:(0,w.cn)("w-10 h-10 rounded-xl flex items-center justify-center text-white shadow-lg",r),children:(0,a.jsx)(t,{className:"w-5 h-5"})}),(0,a.jsx)("span",{className:"text-[10px] font-black uppercase text-slate-900 tracking-tight",children:s})]})},eg=e=>{let{onBack:t}=e,[s,i]=(0,l.useState)("login"),[c,d]=(0,l.useState)(null),[x,m]=(0,l.useState)(!1),[h,p]=(0,l.useState)(!1),[u,b]=(0,l.useState)([]),[g,f]=(0,l.useState)(null),[j,v]=(0,l.useState)(null),[k,S]=(0,l.useState)(!1),[C,A]=(0,l.useState)({phone:"",pin:""}),[T,P]=(0,l.useState)({firstName:"",lastName:"",phone:"",pin:"",confirmPin:""}),[I,_]=(0,l.useState)(""),Z=(0,l.useRef)(null);(0,l.useEffect)(()=>{let e;return"dashboard"===s&&c&&(R(),e=setInterval(()=>{L(!0)},3e4)),()=>clearInterval(e)},[s,c]);let L=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(c){e||p(!0);try{let t=await K.agentGetBalance(c.id);d(e=>e?{...e,balance:t.balance}:null),e||(B.A.success("Sync Complete"),y("success")),R()}catch(t){e||B.A.error("Refresh failed")}finally{e||p(!1)}}},R=async()=>{if(c)try{let e=await fetch("/api/agent/transactions?agentId=".concat(c.id)).then(e=>e.json());e.transactions&&b(e.transactions)}catch(e){}},F=async()=>{if(C.phone.length<10||4!==C.pin.length)return B.A.error("Invalid credentials");m(!0);try{let e=await K.agentLogin(C);if(!e.agent.isActive)throw Error("Account Suspended");d(e.agent),i("dashboard"),y("success"),B.A.success("Welcome, "+e.agent.firstName)}catch(e){y("error"),B.A.error(e.message)}finally{m(!1)}},U=async()=>{if(!T.firstName||!T.lastName||T.phone.length<10)return B.A.error("Complete all fields");if(T.pin!==T.confirmPin)return B.A.error("PINs do not match");if(4!==T.pin.length)return B.A.error("PIN must be 4 digits");m(!0);try{let e=await K.agentRegister(T);d(e.agent),i("dashboard"),y("success"),B.A.success("Account Created!")}catch(e){B.A.error(e.message)}finally{m(!1)}},W=async()=>{if(4!==I.length||!c)return B.A.error("Invalid PIN");m(!0);try{await fetch("/api/agent/update-pin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({agentId:c.id,oldPin:C.pin,newPin:I})}),B.A.success("PIN Updated"),_(""),S(!1)}catch(e){B.A.error("Update failed")}finally{m(!1)}},z=e=>{f(e),setTimeout(async()=>{if(Z.current){let t=await (0,et.YM)(Z.current,{cacheBust:!0,pixelRatio:3,backgroundColor:"#ffffff"}),s=document.createElement("a");s.download="SAUKI-RECEIPT-".concat(e.tx_ref,".png"),s.href=t,s.click(),B.A.success("Receipt Saved"),f(null)}},500)},H=r.E.div;return r.E.button,(0,a.jsxs)("div",{className:"h-screen bg-[#F2F2F7] font-sans text-slate-900 overflow-hidden flex flex-col",children:[g&&(0,a.jsx)(J.S,{ref:Z,transaction:(0,w.O3)(g,c)}),(0,a.jsxs)(n.M,{mode:"wait",children:["login"===s&&(0,a.jsxs)(H,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col h-full overflow-y-auto",children:[(0,a.jsxs)("div",{className:"px-6 pt-16 pb-4 flex justify-between items-center shrink-0",children:[(0,a.jsx)("button",{onClick:t,className:"p-2 bg-white rounded-full text-slate-600 shadow-sm border border-slate-100",children:(0,a.jsx)(X.Z,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>i("reg_terms"),className:"px-4 py-2 bg-slate-900 text-white rounded-full text-xs font-bold uppercase tracking-wide shadow-lg",children:"Register"})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col justify-center px-6 pb-20",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h1",{className:"text-3xl font-black text-slate-900 uppercase mb-1",children:["Agent",(0,a.jsx)("br",{}),"Login"]}),(0,a.jsx)("p",{className:"text-sm text-slate-600 font-semibold",children:"Partner secure access"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(G,{label:"Phone Number",value:C.phone,onChange:e=>A({...C,phone:e.target.value}),className:"h-13 text-base font-semibold bg-white border border-slate-200 rounded-lg",placeholder:"08012345678"}),(0,a.jsx)(G,{label:"4-Digit PIN",type:"password",maxLength:4,value:C.pin,onChange:e=>A({...C,pin:e.target.value}),className:"h-13 text-center text-2xl font-black tracking-[0.5em] bg-white border border-slate-200 rounded-lg",placeholder:"••••"}),(0,a.jsx)(M,{onClick:F,isLoading:x,className:"h-12 bg-slate-900 rounded-lg font-bold uppercase tracking-wide text-white shadow-lg mt-2 w-full",children:"Sign In"})]})]})]},"login"),"reg_terms"===s&&(0,a.jsxs)(H,{initial:{opacity:0},animate:{opacity:1},className:"p-6 pt-16 max-w-md mx-auto h-full flex flex-col",children:[(0,a.jsx)("button",{onClick:()=>i("login"),className:"mb-4 p-2 bg-white rounded-full text-slate-600 w-fit shadow-sm border border-slate-100",children:(0,a.jsx)(X.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto no-scrollbar",children:[(0,a.jsx)("h2",{className:"text-2xl font-black uppercase text-slate-900 mb-4",children:"Identity Verification"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[(0,a.jsx)("h4",{className:"font-bold text-xs uppercase mb-2 text-orange-900",children:"Important"}),(0,a.jsx)("p",{className:"text-sm text-orange-900 leading-relaxed mb-2",children:"After registration, we'll call you to verify your identity."}),(0,a.jsx)("p",{className:"text-xs text-orange-700 font-semibold",children:"Answer the call or your account will be suspended."})]}),(0,a.jsxs)("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200",children:[(0,a.jsx)("h4",{className:"font-bold text-xs uppercase mb-2 text-slate-600",children:"Policy"}),(0,a.jsxs)("ul",{className:"text-xs text-slate-600 space-y-1.5 list-disc pl-4",children:[(0,a.jsx)("li",{children:"Inactive for 30 days = suspended"}),(0,a.jsx)("li",{children:"Wallets non-refundable"}),(0,a.jsx)("li",{children:"Fraud = blacklisted"})]})]})]})]}),(0,a.jsxs)("div",{className:"pt-4 space-y-2",children:[(0,a.jsx)(M,{onClick:()=>i("register"),className:"h-12 bg-slate-900 rounded-lg font-bold uppercase tracking-wide text-white w-full",children:"I Agree & Continue"}),(0,a.jsx)("button",{onClick:()=>i("login"),className:"w-full py-3 text-center text-slate-500 font-semibold text-xs uppercase",children:"Cancel"})]})]},"terms"),"register"===s&&(0,a.jsxs)(H,{initial:{opacity:0},animate:{opacity:1},className:"p-6 pt-16 max-w-md mx-auto h-full overflow-y-auto",children:[(0,a.jsx)("button",{onClick:()=>i("reg_terms"),className:"mb-4 p-2 bg-white rounded-full text-slate-600 w-fit shadow-sm border border-slate-100",children:(0,a.jsx)(X.Z,{className:"w-5 h-5"})}),(0,a.jsx)("h2",{className:"text-2xl font-black uppercase text-slate-900 mb-4",children:"Create Account"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsx)(G,{label:"First Name",value:T.firstName,onChange:e=>P({...T,firstName:e.target.value}),className:"h-12 bg-white rounded-lg text-sm",placeholder:"John"}),(0,a.jsx)(G,{label:"Last Name",value:T.lastName,onChange:e=>P({...T,lastName:e.target.value}),className:"h-12 bg-white rounded-lg text-sm",placeholder:"Doe"})]}),(0,a.jsx)(G,{label:"Phone Number",value:T.phone,onChange:e=>P({...T,phone:e.target.value}),className:"h-12 bg-white rounded-lg text-sm font-bold",placeholder:"08012345678"}),(0,a.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,a.jsx)("p",{className:"text-xs font-bold text-blue-900 uppercase mb-3 text-center",children:"Set Your 4-Digit PIN"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsx)(G,{label:"PIN",type:"password",maxLength:4,value:T.pin,onChange:e=>P({...T,pin:e.target.value}),className:"h-12 text-center font-black bg-white rounded-lg text-lg",placeholder:"••••"}),(0,a.jsx)(G,{label:"Confirm",type:"password",maxLength:4,value:T.confirmPin,onChange:e=>P({...T,confirmPin:e.target.value}),className:"h-12 text-center font-black bg-white rounded-lg text-lg",placeholder:"••••"})]})]}),(0,a.jsx)(M,{onClick:U,isLoading:x,className:"h-12 bg-slate-900 rounded-lg font-bold uppercase tracking-wide text-white w-full shadow-lg mt-2",children:"Create Account"}),(0,a.jsx)("button",{onClick:()=>i("login"),className:"w-full py-3 text-center text-slate-500 font-semibold text-xs uppercase",children:"Back to Login"})]})]},"reg_form"),"dashboard"===s&&c&&(0,a.jsxs)(H,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col h-screen overflow-hidden bg-white",children:[(0,a.jsxs)("div",{className:"px-6 pt-6 pb-4 bg-white border-b border-slate-100 flex justify-between items-center sticky top-0 z-20",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-black text-slate-900 leading-none",children:c.firstName}),(0,a.jsx)("p",{className:"text-xs text-slate-500 font-bold mt-1",children:"Partner Dashboard"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>S(!0),className:"p-2 bg-slate-100 rounded-lg text-slate-600 hover:bg-slate-200",children:(0,a.jsx)(ed.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>{d(null),i("login")},className:"p-2 bg-slate-100 text-red-500 rounded-lg hover:bg-red-100",children:(0,a.jsx)(ex.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto no-scrollbar p-4 space-y-4 pb-6",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-2xl p-5 shadow-lg border border-slate-700 relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-40 h-40 bg-blue-600 rounded-full blur-[60px] opacity-20 pointer-events-none"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsx)("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-wide mb-1",children:"Available Balance"}),(0,a.jsx)("h2",{className:"text-4xl font-black text-white mb-4 tracking-tight",children:(0,w.xG)(c.balance)}),c.flwAccountNumber&&(0,a.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[(0,a.jsx)("p",{className:"text-[10px] text-slate-300 font-bold uppercase tracking-wide mb-2",children:"Virtual Account"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-mono text-base font-bold text-white mb-1",children:c.flwAccountNumber}),(0,a.jsx)("p",{className:"text-xs text-slate-300",children:c.flwBankName||"WEMA Bank"})]}),(0,a.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(c.flwAccountNumber),B.A.success("Copied")},className:"p-2 bg-white/20 rounded-lg text-white hover:bg-white/30",children:(0,a.jsx)(ee.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("button",{onClick:()=>L(),className:"mt-3 text-xs font-bold text-white/60 hover:text-white flex items-center gap-1 uppercase tracking-wide",children:[(0,a.jsx)($.Z,{className:(0,w.cn)("w-3 h-3",h&&"animate-spin")})," Sync Balance"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xs font-black text-slate-600 uppercase tracking-wide mb-3",children:"Top Sales"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("button",{onClick:()=>v("data"),className:"bg-white border border-slate-200 rounded-xl p-4 text-center hover:shadow-md transition-shadow active:scale-95",children:[(0,a.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDCF1"}),(0,a.jsx)("p",{className:"text-xs font-bold text-slate-900 uppercase",children:"Sell Data"}),(0,a.jsx)("p",{className:"text-[10px] text-slate-500 mt-1",children:"Bundles"})]}),(0,a.jsxs)("button",{onClick:()=>v("store"),className:"bg-white border border-slate-200 rounded-xl p-4 text-center hover:shadow-md transition-shadow active:scale-95",children:[(0,a.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDECD️"}),(0,a.jsx)("p",{className:"text-xs font-bold text-slate-900 uppercase",children:"Sell Devices"}),(0,a.jsx)("p",{className:"text-[10px] text-slate-500 mt-1",children:"Store Items"})]})]})]}),(0,a.jsx)(eu,{agent:c,transactions:u}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xs font-black text-slate-600 uppercase tracking-wide mb-3",children:"Quick Access"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsx)(eb,{icon:em.Z,label:"Goals",color:"bg-amber-600",onClick:()=>B.A.info("Daily targets")}),(0,a.jsx)(eb,{icon:eh.Z,label:"Rewards",color:"bg-green-600",onClick:()=>B.A.info("Badges & rewards")}),(0,a.jsx)(eb,{icon:ep.Z,label:"Calendar",color:"bg-blue-600",onClick:()=>B.A.info("Schedule view")}),(0,a.jsx)(eb,{icon:E.Z,label:"Support",color:"bg-purple-600",onClick:()=>B.A.info("Contact support")})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,a.jsx)("h3",{className:"text-xs font-black text-slate-600 uppercase tracking-wide",children:"Transactions"}),(0,a.jsx)("button",{className:"text-[10px] font-bold text-blue-600 hover:text-blue-700",children:"View All →"})]}),(0,a.jsx)("div",{className:"bg-slate-50 rounded-xl border border-slate-200 overflow-hidden",children:0===u.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 opacity-50",children:[(0,a.jsx)(N.Z,{className:"w-8 h-8 mb-2 text-slate-400"}),(0,a.jsx)("span",{className:"text-[10px] font-bold uppercase text-slate-400",children:"No Activity"})]}):(0,a.jsx)("div",{className:"divide-y divide-slate-200",children:u.slice(0,5).map(e=>(0,a.jsxs)("div",{onClick:()=>z(e),className:"p-4 flex justify-between items-center hover:bg-slate-100 cursor-pointer active:bg-slate-200 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:(0,w.cn)("w-9 h-9 rounded-lg flex items-center justify-center text-white text-sm font-bold","wallet_funding"===e.type?"bg-green-600":"data"===e.type?"bg-blue-600":"bg-purple-600"),children:"wallet_funding"===e.type?"↓":"data"===e.type?"\uD83D\uDCF1":"\uD83D\uDECD️"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs font-bold text-slate-900 uppercase",children:"wallet_funding"===e.type?"Deposit":"data"===e.type?"Data Sale":"Store Sale"}),(0,a.jsx)("p",{className:"text-[8px] text-slate-500 uppercase",children:new Date(e.createdAt).toLocaleDateString()})]})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("span",{className:(0,w.cn)("text-sm font-black","wallet_funding"===e.type?"text-green-600":"text-slate-900"),children:["wallet_funding"===e.type?"+":"-",(0,w.xG)(e.amount)]})})]},e.id))})})]})]}),(0,a.jsx)(D,{isOpen:k,onClose:()=>S(!1),title:"Settings",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200 text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-3 shadow-sm text-slate-400",children:(0,a.jsx)(o.Z,{className:"w-8 h-8"})}),(0,a.jsxs)("h3",{className:"text-base font-black text-slate-900 uppercase",children:[c.firstName," ",c.lastName]}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:c.phone}),(0,a.jsxs)("div",{className:"mt-2 inline-flex items-center gap-1 bg-green-100 text-green-700 px-2 py-1 rounded text-[9px] font-bold uppercase",children:[(0,a.jsx)(O.Z,{className:"w-3 h-3"})," Active"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-bold text-slate-600 uppercase tracking-wide mb-2 block",children:"New PIN (4 digits)"}),(0,a.jsx)(G,{type:"password",maxLength:4,placeholder:"••••",className:"h-11 rounded-lg text-center font-black text-lg bg-white border border-slate-200 mb-3",value:I,onChange:e=>_(e.target.value)}),(0,a.jsx)(M,{onClick:W,isLoading:x,className:"h-11 bg-slate-900 text-white rounded-lg font-bold uppercase tracking-wide w-full",children:"Change PIN"})]})]})}),(0,a.jsxs)(D,{isOpen:!!j,onClose:()=>v(null),title:"",children:[(0,a.jsxs)("div",{className:"bg-slate-100 -mx-4 -mt-4 p-4 mb-4 rounded-t-2xl flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center border border-slate-200 text-lg",children:"data"===j?"\uD83D\uDCF1":"\uD83D\uDECD️"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Available"}),(0,a.jsx)("p",{className:"text-lg font-black text-slate-900",children:(0,w.xG)(c.balance)})]})]}),"data"===j&&(0,a.jsx)(eo,{agent:c,onBack:()=>v(null)}),"store"===j&&(0,a.jsx)(ec,{agent:c,onBack:()=>v(null)})]})]},"dash")]})]})};var ef=s(489),ej=s(8670),eN=s(9733),ev=s(8967);let ew=e=>{let{onBack:t}=e,[s,r]=(0,l.useState)([]),[n,i]=(0,l.useState)(""),[c,o]=(0,l.useState)(null),[d,h]=(0,l.useState)(null),p=(0,l.useRef)(null),[u,b]=(0,l.useState)(null);(0,l.useEffect)(()=>{g()},[]);let g=()=>{try{let e=localStorage.getItem("sauki_user_history");e&&r(JSON.parse(e))}catch(e){}},f=async e=>{if("pending"===e.status){o(e.tx_ref),h({tx_ref:e.tx_ref,payment:!1,delivery:!1,checking:!0}),B.A.info("Verifying transaction status...");try{let t=await K.verifyTransaction(e.tx_ref),s="paid"===t.status||"delivered"===t.status,a="delivered"===t.status;h({tx_ref:e.tx_ref,payment:s,delivery:a,checking:!1});let l=localStorage.getItem("sauki_user_history");if(l){let s=JSON.parse(l),a=s.findIndex(t=>t.tx_ref===e.tx_ref);-1!==a&&(s[a]={...s[a],status:t.status},localStorage.setItem("sauki_user_history",JSON.stringify(s)),r(s))}"delivered"===t.status?"data"===e.type?B.A.success("✓ Data delivered! Check your balance."):B.A.success("✓ Transaction Complete: Item Delivered!"):"paid"===t.status?"data"===e.type?B.A.success("✓ Payment confirmed! Data is being sent..."):B.A.success("✓ Payment confirmed! Processing your order..."):"pending"===t.status?B.A.error("⏳ Still awaiting payment confirmation. Try again later."):"failed"===t.status?B.A.error("✗ Transaction failed. Contact support."):B.A.info("Status: "+t.status),setTimeout(()=>h(null),5e3)}catch(e){B.A.error("Failed to check status. Verify your connection."),h(null),console.error(e)}finally{o(null)}}},j=e=>{b(e),setTimeout(async()=>{if(p.current){let t=await (0,et.YM)(p.current,{cacheBust:!0,pixelRatio:3,backgroundColor:"#ffffff"}),s=document.createElement("a");s.download="RECEIPT-".concat(e.tx_ref,".png"),s.href=t,s.click(),B.A.success("Receipt Saved"),b(null)}},500)},N=s.filter(e=>{var t;return e.tx_ref.toLowerCase().includes(n.toLowerCase())||(null===(t=e.phone)||void 0===t?void 0:t.includes(n))});return(0,a.jsxs)("div",{className:"h-screen bg-primary-50 flex flex-col overflow-hidden",children:[u&&(0,a.jsx)(J.S,{ref:p,transaction:(0,w.O3)(u)}),(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl border-b border-primary-100 px-6 pt-6 pb-4 shrink-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-primary-900",children:"Activity"}),(0,a.jsx)("p",{className:"text-xs font-medium text-primary-500 mt-1 uppercase tracking-wide",children:"Transaction History"})]}),s.length>0&&(0,a.jsx)("button",{onClick:()=>{confirm("Permanently delete all local transaction records?")&&(localStorage.removeItem("sauki_user_history"),r([]),B.A.success("History Cleared"))},className:"w-11 h-11 bg-accent-red/10 text-accent-red rounded-xl flex items-center justify-center hover:bg-accent-red/20 transition-colors shadow-elevation-2",title:"Clear history",children:(0,a.jsx)(ef.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"bg-primary-100/50 px-4 py-3 rounded-xl flex items-center gap-3 border border-primary-200/50",children:[(0,a.jsx)(ej.Z,{className:"w-5 h-5 text-primary-400"}),(0,a.jsx)("input",{className:"flex-1 outline-none text-sm font-medium text-primary-900 bg-transparent placeholder:text-primary-400",placeholder:"Search by reference or phone...",value:n,onChange:e=>i(e.target.value)})]})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto no-scrollbar p-4 space-y-3",children:0===N.length?(0,a.jsxs)("div",{className:"text-center py-24 opacity-60",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-primary-100 rounded-2xl flex items-center justify-center",children:(0,a.jsx)(eN.Z,{className:"w-8 h-8 text-primary-400"})}),(0,a.jsx)("p",{className:"font-semibold text-primary-600 uppercase text-xs tracking-wide",children:"No Transactions Yet"}),(0,a.jsx)("p",{className:"text-primary-400 text-xs mt-2",children:"Your activity will appear here"})]}):N.map((e,t)=>(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"bg-white rounded-2xl border border-primary-100/50 shadow-elevation-2 overflow-hidden hover:shadow-elevation-4 transition-shadow",children:[(0,a.jsxs)("div",{className:"p-4 flex items-start gap-4",children:[(0,a.jsx)("div",{className:(0,w.cn)("w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 font-semibold flex-center","data"===e.type?"bg-accent-blue/10 text-accent-blue":"wallet_funding"===e.type?"bg-accent-green/10 text-accent-green":"bg-accent-purple/10 text-accent-purple"),children:"data"===e.type?(0,a.jsx)(m.Z,{className:"w-6 h-6"}):"wallet_funding"===e.type?(0,a.jsx)(ev.Z,{className:"w-6 h-6"}):(0,a.jsx)(x.Z,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-bold text-primary-900 uppercase tracking-tight",children:"data"===e.type?"Data Bundle":"ecommerce"===e.type?"Store Purchase":"Wallet Funding"}),(0,a.jsx)("p",{className:"text-xs text-primary-500 font-medium mt-0.5",children:new Date(e.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}),(0,a.jsxs)("p",{className:(0,w.cn)("text-xs font-mono mt-1.5 truncate","pending"===e.status?"text-accent-orange font-semibold":"failed"===e.status?"text-accent-red font-semibold":"paid"===e.status?"text-accent-blue font-semibold":"text-accent-green font-semibold"),children:[e.tx_ref.slice(0,20),"... • ",e.status.toUpperCase()]})]}),(0,a.jsx)("div",{className:"text-right flex-shrink-0",children:(0,a.jsx)("p",{className:"font-bold text-primary-900 text-lg",children:(0,w.xG)(e.amount)})})]}),(0,a.jsxs)("div",{className:"px-4 pb-4 flex gap-2 border-t border-primary-100/50 pt-3",children:["pending"===e.status&&(0,a.jsxs)("button",{onClick:()=>f(e),disabled:c===e.tx_ref,className:(0,w.cn)("flex-1 px-3 py-2 rounded-lg text-xs font-semibold uppercase flex items-center justify-center gap-1.5 transition-all",c===e.tx_ref?"bg-accent-orange/20 text-accent-orange":"bg-accent-orange/10 text-accent-orange hover:bg-accent-orange/20 shadow-elevation-2"),children:[(0,a.jsx)($.Z,{className:(0,w.cn)("w-3.5 h-3.5",c===e.tx_ref&&"animate-spin")}),"Check Status"]}),(0,a.jsxs)("button",{onClick:()=>j(e),className:"flex-1 px-3 py-2 rounded-lg text-xs font-semibold uppercase bg-primary-100 text-primary-700 hover:bg-primary-200 transition-colors shadow-elevation-2 flex items-center justify-center gap-1.5",children:[(0,a.jsx)(U.Z,{className:"w-3.5 h-3.5"})," Receipt"]})]})]}),(null==d?void 0:d.tx_ref)===e.tx_ref&&d&&(0,a.jsx)("div",{className:"absolute inset-0 bg-black/40 rounded-2xl flex items-center justify-center z-50 backdrop-blur-sm",children:(0,a.jsx)("div",{className:"bg-white rounded-2xl p-5 mx-4 shadow-elevation-8",children:d.checking?(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3 py-6",children:[(0,a.jsx)("div",{className:"w-12 h-12 border-3 border-accent-blue/20 border-t-accent-blue rounded-full animate-spin"}),(0,a.jsx)("p",{className:"text-sm font-semibold text-primary-900",children:"Verifying..."})]}):(0,a.jsxs)("div",{className:"space-y-4 min-w-[280px]",children:[(0,a.jsx)("h3",{className:"font-bold text-primary-900 text-lg",children:"Transaction Verification"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-primary-50 border border-primary-100",children:[d.payment?(0,a.jsx)(O.Z,{className:"w-5 h-5 text-accent-green flex-shrink-0"}):(0,a.jsx)(es.Z,{className:"w-5 h-5 text-accent-orange flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs font-semibold text-primary-600 uppercase",children:"Payment Status"}),(0,a.jsx)("p",{className:(0,w.cn)("text-sm font-bold",d.payment?"text-accent-green":"text-accent-orange"),children:d.payment?"✓ Confirmed":"⏳ Pending"})]})]}),"data"===e.type&&(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-primary-50 border border-primary-100",children:[d.delivery?(0,a.jsx)(O.Z,{className:"w-5 h-5 text-accent-green flex-shrink-0"}):(0,a.jsx)(es.Z,{className:"w-5 h-5 text-accent-orange flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs font-semibold text-primary-600 uppercase",children:"Data Delivery"}),(0,a.jsx)("p",{className:(0,w.cn)("text-sm font-bold",d.delivery?"text-accent-green":"text-accent-orange"),children:d.delivery?"✓ Delivered":"⏳ In Progress"})]})]}),(0,a.jsx)("p",{className:"text-xs text-primary-500 text-center py-2",children:d.payment&&d.delivery?"All systems go! Your transaction is complete.":d.payment&&!d.delivery?"Payment confirmed. Delivery in progress...":"Please wait while we verify..."}),(0,a.jsx)("button",{onClick:()=>h(null),className:"w-full bg-accent-blue text-white font-semibold py-2 rounded-xl transition-all active:scale-95",children:"Close"})]})})})]},t))})]})};var ey=s(5005),ek=s(2600);let eS=e=>{let{activeTab:t,onChange:s}=e,l=[{id:"home",icon:ey.Z,label:"Home"},{id:"store",icon:ek.Z,label:"Store"},{id:"data",icon:m.Z,label:"Data"},{id:"agent",icon:o.Z,label:"Agent"},{id:"history",icon:N.Z,label:"Activity"}],r=e=>{k(),s(e)};return(0,a.jsx)("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:(0,a.jsx)("div",{className:"max-w-[480px] mx-auto bg-white/80 backdrop-blur-xl border-t border-slate-200/50 pb-safe pt-1",children:(0,a.jsx)("div",{className:"flex justify-between items-end h-[50px] px-2",children:l.map(e=>{let s=t===e.id;return(0,a.jsxs)("button",{onClick:()=>r(e.id),className:"group flex flex-col items-center justify-center w-full h-full active:scale-95 transition-transform duration-200",children:[(0,a.jsx)("div",{className:(0,w.cn)("mb-1 transition-all duration-300",s?"text-blue-600 -translate-y-0.5":"text-slate-400"),children:(0,a.jsx)(e.icon,{className:(0,w.cn)("w-6 h-6",s?"fill-current stroke-[2.5px]":"stroke-[2px]")})}),(0,a.jsx)("span",{className:(0,w.cn)("text-[9px] font-bold tracking-tight transition-colors duration-200",s?"text-blue-600":"text-slate-400"),children:e.label})]},e.id)})})})})},eC=()=>{let[e,t]=(0,l.useState)(null),[s,i]=(0,l.useState)(null);(0,l.useEffect)(()=>B.A.subscribe((e,s)=>{let a=Date.now();t({message:e,type:s,id:a}),setTimeout(()=>{t(e=>(null==e?void 0:e.id)===a?null:e)},3e3)}),[]),(0,l.useEffect)(()=>{let e=setInterval(async()=>{try{let e=await fetch("/api/system/message"),t=await e.json();if(t&&"PUSH"===t.type&&t.isActive){let e=JSON.parse(t.content);sessionStorage.getItem("lastPushId")!==t.id&&(i(e),sessionStorage.setItem("lastPushId",t.id),y("success"))}}catch(e){}},1e4);return()=>clearInterval(e)},[]);let o=r.E.div;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(n.M,{children:[e&&(0,a.jsx)(o,{initial:{opacity:0,y:-60,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-30,scale:.95},transition:{type:"spring",stiffness:400,damping:30},className:"fixed top-6 left-4 right-4 z-[100] flex justify-center pointer-events-none",children:(0,a.jsxs)("div",{className:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}("backdrop-blur-2xl border shadow-elevation-8 rounded-2xl p-4 flex items-center gap-3 min-w-[280px] max-w-sm pointer-events-auto","success"===e.type?"bg-accent-green/95 border-accent-green/20 text-white":"error"===e.type?"bg-accent-red/95 border-accent-red/20 text-white":"bg-accent-blue/95 border-accent-blue/20 text-white"),children:[(0,a.jsxs)("div",{className:"flex-shrink-0",children:["success"===e.type&&(0,a.jsx)(O.Z,{className:"w-5 h-5"}),"error"===e.type&&(0,a.jsx)(es.Z,{className:"w-5 h-5"}),"info"===e.type&&(0,a.jsx)(v.Z,{className:"w-5 h-5"})]}),(0,a.jsx)("p",{className:"font-medium text-sm flex-1",children:e.message}),(0,a.jsx)("button",{onClick:()=>t(null),className:"text-white/60 hover:text-white transition-colors flex-shrink-0",children:(0,a.jsx)(p.Z,{className:"w-4 h-4"})})]})}),s&&(0,a.jsx)(o,{initial:{opacity:0,scale:.92},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.92},className:"fixed inset-0 z-[110] flex items-center justify-center bg-black/50 backdrop-blur-md p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-3xl p-7 max-w-sm w-full shadow-elevation-8 relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 h-1.5 bg-gradient-to-r from-accent-blue to-accent-purple"}),(0,a.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-accent-blue/10 to-accent-blue/5 rounded-2xl flex items-center justify-center mb-4 text-accent-blue",children:(0,a.jsx)(c.Z,{className:"w-7 h-7"})}),(0,a.jsx)("h3",{className:"text-xl font-bold text-primary-900 mb-2",children:s.title}),(0,a.jsx)("p",{className:"text-primary-600 leading-relaxed text-sm mb-6",children:s.body}),(0,a.jsx)("button",{onClick:()=>i(null),className:"w-full bg-accent-blue text-white font-semibold py-3 rounded-xl transition-all active:scale-95 shadow-elevation-4",children:"Got It"})]})})]})})},eA=e=>{let{onComplete:t}=e;(0,l.useEffect)(()=>{let e=setTimeout(t,2500);return()=>clearTimeout(e)},[t]);let s=r.E.div;return(0,a.jsx)(s,{className:"fixed inset-0 z-50 flex items-center justify-center bg-white",initial:{opacity:1},exit:{opacity:0},transition:{duration:.8,ease:"easeInOut"},children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,a.jsxs)(s,{initial:{opacity:0,scale:.9,y:15},animate:{opacity:1,scale:1,y:0},transition:{duration:.8,ease:"easeOut",delay:.2},className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-medium text-slate-500 tracking-widest uppercase mb-1",children:"Welcome to"}),(0,a.jsx)("h2",{className:"text-4xl font-black text-slate-900 tracking-tighter uppercase",children:"Sauki Mart"})]}),(0,a.jsx)(s,{initial:{width:0},animate:{width:60},transition:{duration:1,delay:.8},className:"h-1 bg-blue-600 mt-6 rounded-full"})]})})};function eD(){let[e,t]=(0,l.useState)("home"),[s,i]=(0,l.useState)(!0);(0,l.useEffect)(()=>{if(!window.history.state)try{window.history.replaceState({tab:"home"},"",null)}catch(e){}let e=e=>{e.state&&e.state.tab?t(e.state.tab):t("home")};return window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)},[]);let c=s=>{if(s!==e){t(s);try{window.history.pushState({tab:s},"",null)}catch(e){console.warn("Navigation history update failed:",e)}}},o=()=>c("home"),d=r.E.div;return(0,a.jsxs)("div",{className:"min-h-full bg-[#f8fafc] text-slate-900 selection:bg-slate-200",children:[(0,a.jsx)(eC,{}),(0,a.jsx)(n.M,{children:s&&(0,a.jsx)(eA,{onComplete:()=>i(!1)})}),!s&&(0,a.jsxs)("div",{className:"flex flex-col h-full max-w-[480px] mx-auto bg-white shadow-2xl relative",children:[(0,a.jsx)("div",{className:"flex-1 relative overflow-hidden",children:(0,a.jsx)(n.M,{mode:"wait",children:(0,a.jsx)(d,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.02},transition:{duration:.25,ease:[.32,.72,0,1]},className:"h-full overflow-y-auto no-scrollbar",children:(()=>{switch(e){case"home":default:return(0,a.jsx)(Y,{onNavigate:c});case"store":return(0,a.jsx)(ec,{onBack:o});case"data":return(0,a.jsx)(eo,{onBack:o});case"agent":return(0,a.jsx)(eg,{onBack:o});case"history":return(0,a.jsx)(ew,{onBack:o})}})()},e)})}),(0,a.jsx)(eS,{activeTab:e,onChange:c})]})]})}},4563:function(e,t,s){s.d(t,{S:function(){return o}});var a=s(3827),l=s(4090),r=s(1657),n=s(7976),i=s(8998),c=s(3236);let o=(0,l.forwardRef)((e,t)=>{let{transaction:s}=e,l="delivered"===s.status||"paid"===s.status||"successful"===s.status;return(0,a.jsx)("div",{style:{position:"fixed",left:"-9999px",top:"0",opacity:0,pointerEvents:"none"},children:(0,a.jsxs)("div",{ref:t,className:"w-[500px] bg-white text-slate-900 font-sans flex flex-col items-center relative pb-10",style:{fontFamily:"'Inter', sans-serif"},children:[(0,a.jsx)("div",{className:"w-full h-4 bg-slate-900"}),(0,a.jsxs)("div",{className:"w-full px-10 pt-8 pb-6 flex flex-col items-center border-b border-slate-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("div",{className:"w-14 h-14 bg-white rounded-xl flex items-center justify-center border border-slate-100 p-2 shadow-sm",children:(0,a.jsx)("img",{src:"/logo.png",alt:"Sauki Logo",className:"w-full h-full object-contain",crossOrigin:"anonymous"})}),(0,a.jsx)("h1",{className:"text-3xl font-black uppercase tracking-tighter text-slate-900",children:"SAUKI MART"})]}),(0,a.jsx)("p",{className:"text-[10px] font-bold uppercase tracking-[0.3em] text-slate-400",children:"Official Transaction Receipt"})]}),(0,a.jsxs)("div",{className:"w-full px-10 py-8 text-center bg-slate-50 border-b border-slate-100",children:[(0,a.jsx)("p",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 mb-2",children:"Total Amount"}),(0,a.jsx)("h2",{className:"text-5xl font-black text-slate-900 tracking-tighter mb-4",children:(0,r.xG)(s.amount)}),(0,a.jsxs)("div",{className:"inline-flex items-center gap-2 px-5 py-2 rounded-full border bg-white ".concat(l?"border-green-100 text-green-700":"border-slate-100 text-slate-500"),children:[l?(0,a.jsx)(n.Z,{className:"w-5 h-5"}):(0,a.jsx)(i.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"text-xs font-black uppercase tracking-widest",children:"delivered"===s.status?"SUCCESSFUL":s.status})]})]}),(0,a.jsxs)("div",{className:"w-full px-10 py-8 space-y-6",children:[(0,a.jsx)(d,{label:"Customer Name",value:s.customerName||"Sauki Customer"}),(0,a.jsx)(d,{label:"Phone Number",value:s.customerPhone}),(0,a.jsx)(d,{label:"Transaction Ref",value:s.tx_ref,mono:!0}),(0,a.jsx)(d,{label:"Date & Time",value:s.date}),(0,a.jsxs)("div",{className:"pt-6 mt-4 border-t-2 border-dashed border-slate-200",children:[(0,a.jsx)("p",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 mb-3",children:"Item Details"}),(0,a.jsx)("p",{className:"text-lg font-black text-slate-900 leading-snug uppercase",children:s.description}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-1 uppercase font-semibold tracking-wide bg-slate-100 inline-block px-2 py-1 rounded",children:s.type})]})]}),(0,a.jsxs)("div",{className:"w-full bg-slate-900 text-white p-8 mt-4 text-center relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 opacity-10 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-white via-transparent to-transparent"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("div",{className:"flex justify-center items-center gap-6 mb-6",children:[(0,a.jsx)("div",{className:"bg-white p-2 rounded-lg w-16 h-16 flex items-center justify-center shrink-0",children:(0,a.jsxs)("div",{className:"grid grid-cols-3 grid-rows-3 gap-1 w-full h-full",children:[(0,a.jsx)("div",{className:"bg-slate-900 col-span-1 row-span-1"}),(0,a.jsx)("div",{className:"bg-slate-900 col-span-1 row-span-1"}),(0,a.jsx)("div",{className:"bg-slate-900 col-span-1 row-span-1"}),(0,a.jsx)("div",{className:"bg-slate-900 col-span-1 row-span-1"}),(0,a.jsx)("div",{className:"bg-transparent col-span-1 row-span-1"}),(0,a.jsx)("div",{className:"bg-slate-900 col-span-1 row-span-1"}),(0,a.jsx)("div",{className:"bg-slate-900 col-span-1 row-span-1"}),(0,a.jsx)("div",{className:"bg-slate-900 col-span-1 row-span-1"}),(0,a.jsx)("div",{className:"bg-slate-900 col-span-1 row-span-1"})]})}),(0,a.jsxs)("div",{className:"text-left border-l border-slate-700 pl-6",children:[(0,a.jsx)("p",{className:"text-[9px] font-bold uppercase text-slate-500 tracking-widest mb-2",children:"Support Center"}),(0,a.jsx)("p",{className:"text-sm font-bold tracking-wide",children:"0806 193 4056"}),(0,a.jsx)("p",{className:"text-sm font-bold tracking-wide",children:"0704 464 7081"})]})]}),(0,a.jsxs)("div",{className:"pt-4 border-t border-slate-800 flex items-center justify-center gap-2",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4 text-green-500"}),(0,a.jsx)("p",{className:"text-[9px] font-bold uppercase tracking-widest text-slate-400",children:"Securely Processed by Sauki Data Links"})]})]})]})]})})}),d=e=>{let{label:t,value:s,mono:l}=e;return(0,a.jsxs)("div",{className:"flex justify-between items-center border-b border-slate-50 pb-2 last:border-0",children:[(0,a.jsx)("span",{className:"text-[10px] font-bold uppercase text-slate-400 tracking-wide",children:t}),(0,a.jsx)("span",{className:"text-sm font-bold text-slate-900 ".concat(l?"font-mono tracking-tight text-xs":""),children:s})]})}},6160:function(e,t,s){s.d(t,{A:function(){return l}});let a=null,l={success:e=>a&&a(e,"success"),error:e=>a&&a(e,"error"),info:e=>a&&a(e,"info"),subscribe:e=>(a=e,()=>{a=null})}},1657:function(e,t,s){s.d(t,{O3:function(){return o},bl:function(){return c},cn:function(){return r},xG:function(){return n},xU:function(){return i}});var a=s(3167),l=s(1367);function r(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,l.m6)((0,a.W)(t))}function n(e){return new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(e)}let i={MTN:"bg-yellow-50 text-yellow-700",AIRTEL:"bg-red-50 text-red-700",GLO:"bg-green-50 text-green-700","9MOBILE":"bg-lime-50 text-lime-700"};function c(e){try{let t=localStorage.getItem("sauki_user_history"),s=t?JSON.parse(t):[],a=s.findIndex(t=>t.tx_ref===e.tx_ref);-1!==a?s[a]={...s[a],...e}:s.unshift(e),s.length>50&&(s=s.slice(0,50)),localStorage.setItem("sauki_user_history",JSON.stringify(s)),window.dispatchEvent(new Event("history-updated"))}catch(e){console.error("Failed to save history",e)}}function o(e,t){var s;let a="Unknown Item",l="Transaction";e.deliveryData&&e.deliveryData.manifest?(a=e.deliveryData.manifest,l="Merchandise"):"data"===e.type?(l="Data Bundle",a=e.dataPlan?"".concat(e.dataPlan.network," ").concat(e.dataPlan.data," (").concat(e.dataPlan.validity,")"):"Mobile Data Top-up"):"ecommerce"===e.type?(l="Device Order",e.product&&(a=e.product.name)):"wallet_funding"===e.type&&(l="Wallet Funding",a="Agent Wallet Credit");let r="Sauki Customer";return t||e.agentId?r=t?"".concat(t.firstName," ").concat(t.lastName):e.customerName?e.customerName:"Authorized Agent":e.customerName&&"undefined"!==e.customerName?r=e.customerName:"data"===e.type&&(r="Sauki Customer"),{tx_ref:e.tx_ref,amount:Math.abs(e.amount),date:new Date(e.createdAt).toLocaleString("en-NG",{dateStyle:"medium",timeStyle:"short"}),type:l,description:a,status:e.status,customerName:r,customerPhone:e.phone,deliveryAddress:e.deliveryState||(null===(s=e.deliveryData)||void 0===s?void 0:s.address)}}}}]);