"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[194],{8194:function(e,t,s){s.r(t),s.d(t,{default:function(){return ev}});var a=s(3827),l=s(4090),n=s(8371),r=s(8745),i=s(9744),c=s(3345),o=s(4059),d=s(8025),x=s(43),m=s(1530),h=s(3236),p=s(2235),u=s(6578),b=s(2891),f=s(1047),g=s(9251),j=s(2244),w=s(8390),N=s(8814),v=s(1657);let y=e=>{try{if("undefined"!=typeof Audio){let t=new Audio;switch(e){case"success":t.src="https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3";break;case"click":t.src="https://assets.mixkit.co/active_storage/sfx/2568/2568-preview.mp3",t.volume=.5;break;case"error":t.src="https://assets.mixkit.co/active_storage/sfx/2955/2955-preview.mp3";break;case"coin":t.src="https://assets.mixkit.co/active_storage/sfx/2019/2019-preview.mp3"}let s=localStorage.getItem("appSettings");if(s){let{sounds:e}=JSON.parse(s);if(!e)return}let a=t.play();void 0!==a&&a.catch(e=>{})}}catch(e){}},k=()=>{if("undefined"!=typeof navigator)try{let e=localStorage.getItem("appSettings");if(e){let{haptics:t}=JSON.parse(e);if(!t)return}navigator.vibrate&&navigator.vibrate(10)}catch(e){}},S=e=>{let{isOpen:t,onClose:s,onOpenLegal:i,onOpenHistory:o,onAgentLogin:d}=e,[m,v]=(0,l.useState)({notifications:!0,darkMode:!1,sounds:!0,haptics:!0});(0,l.useEffect)(()=>{let e=localStorage.getItem("appSettings");e&&v(JSON.parse(e))},[]);let S=(e,t)=>{let s={...m,[e]:t};v(s),localStorage.setItem("appSettings",JSON.stringify(s)),"sounds"===e&&t&&y("success"),"haptics"===e&&t&&k(),"darkMode"===e&&(t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))},P=n.E.div;return(0,a.jsx)(r.M,{children:t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,className:"fixed inset-0 bg-black/60 z-[60] backdrop-blur-md"}),(0,a.jsxs)(P,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",stiffness:350,damping:35},className:"fixed top-0 left-0 bottom-0 w-[85%] max-w-sm bg-slate-50 dark:bg-slate-900 z-[70] shadow-2xl flex flex-col rounded-r-[3rem] overflow-hidden",style:{position:"absolute"},children:[(0,a.jsxs)("div",{className:"p-8 bg-slate-900 text-white relative",children:[(0,a.jsx)("button",{onClick:s,className:"absolute top-6 right-6 text-white/40 hover:text-white transition-colors",children:(0,a.jsx)(p.Z,{className:"w-6 h-6"})}),(0,a.jsx)("div",{className:"w-14 h-14 bg-white rounded-2xl flex items-center justify-center p-2.5 mb-6 shadow-xl shadow-black/20",children:(0,a.jsx)("img",{src:"/logo.png",className:"w-full h-full object-contain"})}),(0,a.jsx)("h2",{className:"text-2xl font-black tracking-tight uppercase",children:"SAUKI MART"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)("p",{className:"text-white/40 text-[9px] font-black uppercase tracking-widest",children:"v2.5.0 Premium Edition"}),(0,a.jsx)("span",{className:"w-1 h-1 rounded-full bg-white/20"}),(0,a.jsxs)("p",{className:"text-green-400 text-[9px] font-black uppercase tracking-widest flex items-center gap-1",children:["Certified ",(0,a.jsx)(u.Z,{className:"w-2.5 h-2.5"})]})]})]}),(0,a.jsxs)("div",{className:"flex-1 p-8 space-y-8 overflow-y-auto no-scrollbar",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.25em] mb-5",children:"App Experience"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(C,{icon:c.Z,label:"Notifications",isActive:m.notifications,onToggle:()=>S("notifications",!m.notifications)}),(0,a.jsx)(C,{icon:m.darkMode?b.Z:f.Z,label:"Dark Mode",isActive:m.darkMode,onToggle:()=>S("darkMode",!m.darkMode),activeColor:"bg-indigo-600"}),(0,a.jsx)(C,{icon:g.Z,label:"Sound FX",isActive:m.sounds,onToggle:()=>S("sounds",!m.sounds),activeColor:"bg-purple-600"}),(0,a.jsx)(C,{icon:x.Z,label:"Haptic Feedback",isActive:m.haptics,onToggle:()=>S("haptics",!m.haptics),activeColor:"bg-blue-600"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.25em] mb-5",children:"Enterprise"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(A,{icon:j.Z,label:"Agent / Admin Login",subLabel:"Partner Access",onClick:()=>{s(),null==d||d()}}),(0,a.jsx)(A,{icon:w.Z,label:"Transaction History",subLabel:"Local Records",onClick:()=>{s(),null==o||o()}}),(0,a.jsx)(A,{icon:N.Z,label:"About Sauki Mart",subLabel:"Our Vision",onClick:()=>{s(),null==i||i()}}),(0,a.jsx)(A,{icon:h.Z,label:"Legal & Privacy",subLabel:"Compliance",onClick:()=>{s(),null==i||i()}})]})]})]}),(0,a.jsx)("div",{className:"p-10 border-t border-slate-200 dark:border-slate-800 bg-slate-100 dark:bg-slate-900/50",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)("p",{className:"text-[9px] text-slate-400 font-black uppercase tracking-[0.3em]",children:"Sauki Data Links"}),(0,a.jsxs)("div",{className:"flex gap-8 opacity-40 hover:opacity-100 transition-opacity duration-500",children:[(0,a.jsx)("img",{src:"/smedan.png",className:"h-7 w-auto grayscale"}),(0,a.jsx)("img",{src:"/coat.png",className:"h-7 w-auto grayscale"})]})]})})]})]})})},C=e=>{let{icon:t,label:s,isActive:l,onToggle:r,activeColor:i="bg-blue-600"}=e,c=n.E.div;return(0,a.jsxs)("button",{onClick:r,className:"w-full flex items-center justify-between p-4 rounded-[1.75rem] bg-white border border-slate-100 shadow-sm active:scale-95 transition-all",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:(0,v.cn)("w-10 h-10 rounded-2xl flex items-center justify-center transition-all shadow-inner",l?"".concat(i," text-white"):"bg-slate-100 text-slate-400"),children:(0,a.jsx)(t,{className:"w-5 h-5"})}),(0,a.jsx)("span",{className:"text-xs font-black text-slate-900 uppercase tracking-tight",children:s})]}),(0,a.jsx)("div",{className:(0,v.cn)("w-12 h-7 rounded-full relative transition-colors p-1",l?i:"bg-slate-200"),children:(0,a.jsx)(c,{animate:{x:l?20:0},className:"w-5 h-5 bg-white rounded-full shadow-md"})})]})},A=e=>{let{icon:t,label:s,subLabel:l,onClick:n}=e;return(0,a.jsxs)("button",{onClick:n,className:"w-full flex items-center gap-4 p-4 rounded-[1.75rem] bg-white border border-slate-100 shadow-sm hover:bg-slate-50 transition-all text-left group active:scale-95",children:[(0,a.jsx)("div",{className:"w-11 h-11 rounded-2xl bg-slate-50 flex items-center justify-center group-hover:bg-blue-50 transition-colors shadow-inner",children:(0,a.jsx)(t,{className:"w-5 h-5 text-slate-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-xs font-black text-slate-900 uppercase tracking-tight block",children:s}),(0,a.jsx)("span",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-widest",children:l})]})]})},P=e=>{let{isOpen:t,onClose:s,title:i,children:c}=e,o=n.E.div;(0,l.useEffect)(()=>{if(t){try{window.history.pushState({modal:!0},"",null)}catch(e){console.warn("Modal history push failed:",e)}let e=e=>{s()};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}}},[t]);let d=()=>{try{window.history.back()}catch(e){s()}};return(0,a.jsx)(r.M,{children:t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:d,className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[60]"}),(0,a.jsxs)(o,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed bottom-0 fixed-mobile bg-white rounded-t-3xl z-[70] max-h-[90vh] overflow-y-auto shadow-[0_-8px_30px_rgba(0,0,0,0.12)]",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white/90 backdrop-blur-md z-10 px-6 py-4 flex items-center justify-between border-b border-slate-100",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:i}),(0,a.jsx)("button",{onClick:d,className:"p-2 -mr-2 text-slate-500 hover:bg-slate-100 rounded-full",children:(0,a.jsx)(p.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"p-6 pb-24 safe-area-bottom",children:c})]})]})})};var T=s(1524),I=s(7805),D=s(5904),E=s(7366),L=s(3459),Z=s(684),_=s(9475),O=s(7976),R=s(2493),F=s(8994);let M=e=>{let{className:t,variant:s="primary",isLoading:l,children:r,disabled:i,...c}=e,o=n.E.button;return(0,a.jsx)(o,{whileTap:{scale:.96},className:(0,v.cn)("inline-flex items-center justify-center rounded-2xl font-bold transition-all focus-visible:outline-none disabled:opacity-50 disabled:pointer-events-none h-14 px-8 text-base w-full active:scale-95 duration-200",{primary:"bg-slate-900 text-white shadow-lg shadow-slate-900/20 hover:bg-slate-800",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-200",outline:"border-2 border-slate-200 bg-transparent hover:bg-slate-50 text-slate-900",ghost:"hover:bg-slate-50 hover:text-slate-900 text-slate-500",destructive:"bg-red-50 text-red-600 hover:bg-red-100"}[s],t),disabled:l||i,...c,children:l?(0,a.jsx)(F.Z,{className:"mr-2 h-5 w-5 animate-spin"}):r})};var U=s(4715);let z=()=>(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-slate-900 p-6 rounded-2xl flex items-center justify-between shadow-lg shadow-slate-200",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-white text-lg",children:"Legal Bundle"}),(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"PDF Version (Signed)"})]}),(0,a.jsxs)(M,{onClick:()=>{let e=new R.kH,t=e.internal.pageSize.getWidth()-30,s=20;e.setFontSize(18),e.setFont("helvetica","bold"),e.text("SAUKI MART - LEGAL DOCUMENTS",15,s),s+=10,e.setFontSize(10),e.setFont("helvetica","normal"),e.text("Generated: ".concat(new Date().toLocaleDateString()),15,s),s+=15,e.setFontSize(14),e.setFont("helvetica","bold"),e.text("PRIVACY POLICY",15,s),s+=8,e.setFontSize(9),e.setFont("helvetica","normal");let a=e.splitTextToSize('\nSauki Data Links ("we," "us," "our," or "the Company") is committed to protecting the privacy and security of your personal data. This Privacy Policy explains how we collect, use, disclose, store, and protect your personal information when you use the SAUKI MART mobile application (the "App"), our associated services, or interact with us.\n\nWe process personal data in strict compliance with the Nigeria Data Protection Act 2023 ("NDPA").\n\n1. INFORMATION WE COLLECT\na. Information You Provide Directly: Contact details: Phone number, email address, and name. Transaction-related information.\nb. Information Collected Automatically: Device information and Usage data.\nc. Information from Third Parties: Payment verification data from Flutterwave.\n\n2. HOW WE USE YOUR PERSONAL DATA\n- To provide and maintain our services.\n- To verify transactions and prevent fraud.\n- To communicate with you.\n- To comply with legal obligations.\n\n3. DATA SECURITY\nWe implement appropriate technical and organisational measures to protect your Personal Data, including encryption and access controls.\n\n4. YOUR RIGHTS\nUnder the NDPA, you have the right to Access, Rectify, Erase, Restrict, and Object to processing of your data. Contact us at saukidatalinks@gmail.com.\n    '.trim(),t);e.text(a,15,s),(s+=4*a.length+10)>250&&(e.addPage(),s=20),e.setFontSize(14),e.setFont("helvetica","bold"),e.text("TERMS OF SERVICE",15,s),s+=8,e.setFontSize(9),e.setFont("helvetica","normal");let l=e.splitTextToSize('\nThese Terms of Service constitute a legally binding agreement between you and Sauki Data Links.\n\n1. SERVICES\nThe App acts as an intermediary platform facilitating:\n- Purchase and instant delivery of airtime and data bundles.\n- Purchase and delivery of physical mobile devices.\n- Payment processing via secure gateways.\n\n2. PAYMENTS AND REFUNDS\n- Digital Products (Airtime/Data Bundles): Sales are final and non-refundable once successfully delivered.\n- Failed Deliveries: If payment is successful but delivery fails, we will retry or refund your wallet.\n- Physical Products: Refunds or returns subject to inspection for defects within 7 days.\n\n3. USER OBLIGATIONS\nYou agree to provide accurate information, including correct phone numbers for VTU transactions.\n\n4. LIMITATION OF LIABILITY\nServices are provided "as is". We are not liable for network failures of third-party Telecommunication Providers.\n\n5. CONTACT US\nEmail: saukidatalinks@gmail.com\nPhone: +2348061934056 and +2347044647081\n    '.trim(),t);e.text(l,15,s),e.save("Sauki_Mart_Legal_Documents.pdf")},className:"w-auto px-6 h-12 bg-white text-slate-900 hover:bg-slate-100 font-bold",children:[(0,a.jsx)(U.Z,{className:"w-4 h-4 mr-2"})," Download PDF"]})]}),(0,a.jsxs)("div",{className:"h-[450px] overflow-y-auto bg-white rounded-xl border border-slate-100 p-6 shadow-inner no-scrollbar",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-8 border-b border-slate-100 pb-4",children:[(0,a.jsx)("img",{src:"/logo.png",alt:"Sauki",className:"w-10 h-10 object-contain"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"font-black text-slate-900",children:"SAUKI MART"}),(0,a.jsx)("p",{className:"text-[10px] text-slate-500 uppercase tracking-widest",children:"Official Legal Documents"})]})]}),(0,a.jsxs)("div",{className:"prose prose-sm prose-slate max-w-none",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Privacy Policy"}),(0,a.jsx)("p",{className:"text-xs text-slate-500 font-mono mb-4",children:"Effective Date: December 29, 2025"}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Sauki Data Links"}),' ("we," "us," "our," or "the Company") is committed to protecting the privacy and security of your personal data. We process personal data in strict compliance with the ',(0,a.jsx)("strong",{children:"Nigeria Data Protection Act 2023"}),' ("NDPA").']}),(0,a.jsx)("h4",{className:"font-bold text-slate-800 mt-4",children:"1. Information We Collect"}),(0,a.jsxs)("ul",{className:"list-disc pl-4 space-y-1",children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Direct:"})," Name, phone number, email address."]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Automatic:"})," Device information, IP address."]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Third Party:"})," Payment verification from Flutterwave."]})]}),(0,a.jsx)("h4",{className:"font-bold text-slate-800 mt-4",children:"2. How We Use Data"}),(0,a.jsx)("p",{children:"We use data to process transactions, verify payments, and communicate service updates. We do not sell your personal data."}),(0,a.jsx)("h4",{className:"font-bold text-slate-800 mt-4",children:"3. Your Rights"}),(0,a.jsxs)("p",{children:["You have the right to access, rectify, or erase your data. Contact our Data Protection Officer at ",(0,a.jsx)("strong",{children:"saukidatalinks@gmail.com"}),"."]}),(0,a.jsx)("hr",{className:"my-8 border-slate-200"}),(0,a.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Terms of Service"}),(0,a.jsx)("p",{className:"text-xs text-slate-500 font-mono mb-4",children:"Effective Date: December 29, 2025"}),(0,a.jsx)("p",{children:'These Terms constitute a legally binding agreement between you ("User") and Sauki Data Links.'}),(0,a.jsx)("h4",{className:"font-bold text-slate-800 mt-4",children:"1. Services"}),(0,a.jsx)("p",{children:"We provide Virtual Top-Up (VTU) and E-commerce services. We are an intermediary and do not own the telecommunication networks."}),(0,a.jsx)("h4",{className:"font-bold text-slate-800 mt-4",children:"2. Payments & Refunds"}),(0,a.jsxs)("ul",{className:"list-disc pl-4 space-y-1",children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Digital Products:"})," Sales are final once delivered. Failed deliveries are refunded."]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Physical Products:"})," 7-day return policy for defects."]})]}),(0,a.jsx)("h4",{className:"font-bold text-slate-800 mt-4",children:"3. User Obligations"}),(0,a.jsx)("p",{children:"You are responsible for providing accurate information, including correct phone numbers. We are not liable for funding wrong numbers provided by you."}),(0,a.jsx)("h4",{className:"font-bold text-slate-800 mt-4",children:"4. Contact Us"}),(0,a.jsxs)("p",{children:["Email: saukidatalinks@gmail.com ",(0,a.jsx)("br",{})," Phone: +2348061934056 / +2347044647081"]})]})]})]}),W=l.forwardRef((e,t)=>{let{className:s,label:l,...n}=e;return(0,a.jsxs)("div",{className:"space-y-2 w-full group",children:[l&&(0,a.jsx)("label",{className:"text-xs font-semibold text-slate-500 ml-1 uppercase tracking-wide group-focus-within:text-blue-600 transition-colors",children:l}),(0,a.jsx)("input",{className:(0,v.cn)("flex h-14 w-full rounded-2xl bg-slate-100 px-5 py-3 text-lg ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-400 focus-visible:outline-none focus-visible:bg-white focus-visible:ring-2 focus-visible:ring-blue-500/20 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-300 shadow-sm border-transparent focus:border-blue-500/20 text-slate-900 font-medium",s),ref:t,...n})]})});W.displayName="Input";var B=s(6160);let G=e=>{let{onBack:t}=e,[s,n]=(0,l.useState)(null),r=e=>{window.open("https://wa.me/234".concat(e.substring(1)),"_blank")},i=e=>{window.open("tel:".concat(e))};return(0,a.jsxs)("div",{className:"min-h-screen bg-[#F2F2F7]",children:[(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-xl border-b border-slate-200/60 sticky top-0 z-10 pt-safe pb-4 px-6",children:(0,a.jsx)("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Support"})}),(0,a.jsxs)("div",{className:"p-5 space-y-8 pb-32",children:[(0,a.jsxs)("section",{children:[(0,a.jsx)("h3",{className:"text-[11px] font-semibold text-slate-400 uppercase tracking-wider mb-2 pl-4",children:"Resolution Center"}),(0,a.jsx)("div",{className:"bg-white rounded-[1.5rem] overflow-hidden shadow-sm border border-slate-100",children:(0,a.jsxs)("button",{onClick:()=>n("complaint"),className:"w-full p-5 flex items-center justify-between active:bg-slate-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center text-red-600",children:(0,a.jsx)(T.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("h4",{className:"text-base font-bold text-slate-900",children:"Lodge a Complaint"}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Report failed transactions or issues"})]})]}),(0,a.jsx)(I.Z,{className:"w-5 h-5 text-slate-300"})]})})]}),(0,a.jsxs)("section",{children:[(0,a.jsx)("h3",{className:"text-[11px] font-semibold text-slate-400 uppercase tracking-wider mb-2 pl-4",children:"Contact Us"}),(0,a.jsxs)("div",{className:"bg-white rounded-[1.5rem] overflow-hidden shadow-sm border border-slate-100 divide-y divide-slate-100",children:[(0,a.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center text-blue-600",children:(0,a.jsx)(D.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs font-bold text-blue-600 uppercase",children:"Customer Care"}),(0,a.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:"0806 193 4056"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>i("08061934056"),className:"w-9 h-9 bg-slate-100 rounded-full flex items-center justify-center text-slate-900 hover:bg-slate-200",children:(0,a.jsx)(D.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>r("08061934056"),className:"w-9 h-9 bg-green-100 rounded-full flex items-center justify-center text-green-600 hover:bg-green-200",children:(0,a.jsx)(E.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center text-purple-600",children:(0,a.jsx)(L.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs font-bold text-purple-600 uppercase",children:"Tech Support"}),(0,a.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:"0704 464 7081"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>i("07044647081"),className:"w-9 h-9 bg-slate-100 rounded-full flex items-center justify-center text-slate-900 hover:bg-slate-200",children:(0,a.jsx)(D.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>r("07044647081"),className:"w-9 h-9 bg-green-100 rounded-full flex items-center justify-center text-green-600 hover:bg-green-200",children:(0,a.jsx)(E.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"p-4 flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center text-slate-600",children:(0,a.jsx)(Z.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"overflow-hidden",children:[(0,a.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Email"}),(0,a.jsx)("p",{className:"text-sm font-semibold text-slate-900 truncate",children:"saukidatalinks@gmail.com"})]})]})]})]}),(0,a.jsxs)("section",{children:[(0,a.jsx)("h3",{className:"text-[11px] font-semibold text-slate-400 uppercase tracking-wider mb-2 pl-4",children:"Legal"}),(0,a.jsx)("div",{className:"bg-white rounded-[1.5rem] overflow-hidden shadow-sm border border-slate-100",children:(0,a.jsxs)("button",{onClick:()=>n("legal"),className:"w-full p-5 flex items-center justify-between active:bg-slate-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center text-slate-600",children:(0,a.jsx)(_.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("h4",{className:"text-base font-bold text-slate-900",children:"Terms & Privacy"}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Read our legal documentation"})]})]}),(0,a.jsx)(I.Z,{className:"w-5 h-5 text-slate-300"})]})})]})]}),(0,a.jsxs)(P,{isOpen:!!s,onClose:()=>n(null),title:"complaint"===s?"Lodge Complaint":"Legal Documents",children:["complaint"===s&&(0,a.jsx)(J,{onClose:()=>n(null)}),"legal"===s&&(0,a.jsx)(z,{})]})]})},J=e=>{let{onClose:t}=e,[s,n]=(0,l.useState)({phone:"",message:""}),[r,i]=(0,l.useState)("idle"),c=async()=>{if(!s.phone||!s.message)return B.A.error("Please fill all fields");i("submitting");try{await fetch("/api/support",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),i("success")}catch(e){B.A.error("Failed to send. Check connection."),i("idle")}};return"success"===r?(0,a.jsxs)("div",{className:"text-center py-8 space-y-6 animate-in fade-in zoom-in duration-300",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto text-green-600",children:(0,a.jsx)(O.Z,{className:"w-10 h-10"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-2xl font-black text-slate-900",children:"Complaint Received"}),(0,a.jsx)("p",{className:"text-slate-500 mt-2 px-4 leading-relaxed",children:"We have notified the admin team. We will investigate your transaction and get back to you shortly."})]}),(0,a.jsx)("div",{className:"bg-amber-50 p-6 rounded-[1.5rem] border border-amber-100 text-left",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(T.Z,{className:"w-6 h-6 text-amber-500 shrink-0 mt-1"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-bold text-amber-900 text-sm uppercase",children:"Is it Urgent?"}),(0,a.jsx)("p",{className:"text-xs text-amber-700 mt-1 mb-4",children:"If you need immediate resolution, please contact us on WhatsApp with your Transaction ID."}),(0,a.jsxs)("button",{onClick:()=>window.open("https://wa.me/2348061934056?text=URGENT COMPLAINT: ".concat(encodeURIComponent(s.message)),"_blank"),className:"w-full bg-green-600 text-white h-12 rounded-xl font-bold flex items-center justify-center gap-2 shadow-lg shadow-green-100",children:[(0,a.jsx)(E.Z,{className:"w-5 h-5"})," Chat on WhatsApp"]})]})]})}),(0,a.jsx)(M,{variant:"ghost",onClick:t,children:"Close"})]}):(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsx)("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100 text-sm text-slate-500",children:"Please provide the phone number used for the transaction and a brief description of the error."}),(0,a.jsx)(W,{label:"Affected Phone Number",placeholder:"080...",value:s.phone,onChange:e=>n({...s,phone:e.target.value})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs font-bold text-slate-500 ml-1 uppercase",children:"Issue Details"}),(0,a.jsx)("textarea",{className:"w-full p-4 bg-slate-100 rounded-2xl h-32 focus:outline-none focus:ring-2 focus:ring-blue-500/20 resize-none font-medium text-slate-900",placeholder:"E.g. I bought 1GB data but didn't receive it...",value:s.message,onChange:e=>n({...s,message:e.target.value})})]}),(0,a.jsx)(M,{onClick:c,isLoading:"submitting"===r,className:"bg-slate-900 text-white h-14 rounded-2xl font-bold shadow-xl",children:"Submit Complaint"})]})};var Y=s(4563);let H=e=>{let{onNavigate:t}=e,[s,r]=(0,l.useState)(!1),[p,u]=(0,l.useState)(!1),[b,f]=(0,l.useState)(null),g=(0,l.useRef)(null),[j,w]=(0,l.useState)(null);(0,l.useEffect)(()=>{fetch("/api/system/message").then(e=>e.json()).then(e=>{e&&e.content&&"PUSH"!==e.type&&f(e)}).catch(()=>{})},[]);let N=n.E.div;return(0,a.jsxs)("div",{className:"h-screen bg-[#F2F2F7] flex flex-col overflow-hidden",children:[(0,a.jsx)(S,{isOpen:s,onClose:()=>r(!1),onOpenLegal:()=>{r(!1),u(!0)},onOpenHistory:()=>{r(!1),t("history")},onAgentLogin:()=>{r(!1),t("agent")}}),j&&(0,a.jsx)(Y.S,{ref:g,transaction:(0,v.O3)(j)}),(0,a.jsxs)("header",{className:"px-6 pt-safe mt-6 flex justify-between items-center z-10 shrink-0 mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Welcome to"}),(0,a.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight leading-none",children:"SAUKI MART"})]}),(0,a.jsx)("button",{onClick:()=>r(!0),className:"w-12 h-12 bg-white rounded-full shadow-lg shadow-slate-200/50 flex items-center justify-center active:scale-90 transition-transform",children:(0,a.jsx)(i.Z,{className:"w-6 h-6 text-slate-900 stroke-[2.5px]"})})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto no-scrollbar p-6 space-y-6 pb-32",children:[b&&(0,a.jsxs)("div",{className:(0,v.cn)("relative overflow-hidden rounded-[1.5rem] p-4 flex items-center shadow-sm border mb-2","alert"===b.type?"bg-red-50 border-red-100 text-red-700":"bg-white border-slate-100 text-slate-600"),children:[(0,a.jsx)("div",{className:"p-2 bg-slate-100 rounded-full mr-3 shrink-0",children:(0,a.jsx)(c.Z,{className:"w-4 h-4 fill-slate-900 text-slate-900"})}),(0,a.jsx)("div",{className:"flex-1 overflow-hidden h-5 relative",children:(0,a.jsxs)(N,{animate:{x:["100%","-100%"]},transition:{repeat:1/0,duration:20,ease:"linear"},className:"absolute whitespace-nowrap text-xs font-bold uppercase tracking-wide pt-0.5",children:[b.content," • ",b.content," • ",b.content]})})]}),(0,a.jsxs)(N,{whileTap:{scale:.98},onClick:()=>t("agent"),className:"w-full aspect-[2/1] bg-slate-900 rounded-[2.5rem] relative overflow-hidden shadow-2xl shadow-slate-300/50 p-8 flex flex-col justify-between group cursor-pointer",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-purple-500 rounded-full blur-[80px] opacity-20 group-hover:opacity-40 transition-opacity duration-700"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-blue-500 rounded-full blur-[60px] opacity-20"}),(0,a.jsxs)("div",{className:"relative z-10 flex justify-between items-start",children:[(0,a.jsx)("div",{className:"bg-white/10 backdrop-blur-md border border-white/10 px-3 py-1.5 rounded-full",children:(0,a.jsxs)("span",{className:"text-[9px] font-black text-white uppercase tracking-widest flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"w-3 h-3"})," Partner Access"]})}),(0,a.jsx)("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center text-slate-900 shadow-lg",children:(0,a.jsx)(d.Z,{className:"w-5 h-5 -rotate-45"})})]}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("h2",{className:"text-3xl font-black text-white uppercase tracking-tighter leading-none mb-2",children:["Agent",(0,a.jsx)("br",{}),"Hub"]}),(0,a.jsx)("p",{className:"text-white/60 text-xs font-medium max-w-[150px]",children:"Manage resale portfolio and liquid wallet."})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)(N,{whileTap:{scale:.97},onClick:()=>t("store"),className:"bg-white p-6 rounded-[2.5rem] shadow-xl shadow-slate-200/50 flex flex-col justify-between h-48 relative overflow-hidden group",children:[(0,a.jsx)("div",{className:"absolute -right-6 -bottom-6 w-24 h-24 bg-purple-50 rounded-full group-hover:scale-150 transition-transform duration-500"}),(0,a.jsx)("div",{className:"w-12 h-12 bg-purple-50 rounded-2xl flex items-center justify-center text-purple-600 mb-4 relative z-10",children:(0,a.jsx)(x.Z,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tight leading-none mb-1",children:["Premium",(0,a.jsx)("br",{}),"Store"]}),(0,a.jsx)("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:"Gadgets"})]})]}),(0,a.jsxs)(N,{whileTap:{scale:.97},onClick:()=>t("data"),className:"bg-blue-600 p-6 rounded-[2.5rem] shadow-xl shadow-blue-200/50 flex flex-col justify-between h-48 relative overflow-hidden group",children:[(0,a.jsx)("div",{className:"absolute -left-6 -top-6 w-24 h-24 bg-blue-500 rounded-full group-hover:scale-150 transition-transform duration-500"}),(0,a.jsx)("div",{className:"w-12 h-12 bg-white/20 backdrop-blur rounded-2xl flex items-center justify-center text-white mb-4 relative z-10",children:(0,a.jsx)(m.Z,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("h3",{className:"text-xl font-black text-white uppercase tracking-tight leading-none mb-1",children:["Instant",(0,a.jsx)("br",{}),"Data"]}),(0,a.jsx)("span",{className:"text-[9px] font-bold text-blue-100 uppercase tracking-widest",children:"Bundles"})]})]})]}),(0,a.jsxs)(N,{whileTap:{scale:.98},onClick:()=>u(!0),className:"w-full bg-white p-5 rounded-[2rem] shadow-lg shadow-slate-100 flex items-center justify-between cursor-pointer",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-green-50 rounded-2xl flex items-center justify-center text-green-600",children:(0,a.jsx)(h.Z,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-black text-slate-900 uppercase",children:"Support & Legal"}),(0,a.jsx)("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:"Complaints • Contact"})]})]}),(0,a.jsx)("div",{className:"w-10 h-10 bg-slate-50 rounded-full flex items-center justify-center",children:(0,a.jsx)(d.Z,{className:"w-4 h-4 text-slate-400"})})]}),(0,a.jsx)("div",{className:"text-center pt-4",children:(0,a.jsx)("p",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.3em]",children:"Secured by Sauki Data Links"})})]}),(0,a.jsx)(P,{isOpen:p,onClose:()=>u(!1),title:"Support Center",children:(0,a.jsx)(G,{})})]})};async function V(e,t){let s=await fetch("".concat("/api").concat(e),{...t,cache:"no-store"});if(!s.ok){let e;let t=await s.text();try{e=JSON.parse(t)}catch(e){}throw Error((null==e?void 0:e.error)||t||"An unexpected error occurred")}return s.json()}let K={getProducts:()=>V("/products"),getDataPlans:()=>V("/data-plans"),initiateEcommercePayment:e=>V("/ecommerce/initiate-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),initiateDataPayment:e=>V("/data/initiate-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),verifyTransaction:e=>V("/transactions/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tx_ref:e})}),trackTransactions:e=>V("/transactions/track?phone=".concat(e)),agentRegister:e=>V("/agent/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),agentLogin:e=>V("/agent/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),agentGetBalance:e=>V("/agent/balance?agentId="+e),agentWalletPurchase:e=>V("/agent/purchase",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})};var q=s(2600),X=s(7404),Q=s(7664),$=s(94),ee=s(7252),et=s(834),es=s(3416),ea=s(9823);let el=e=>{let{agent:t,onBack:s}=e,[r,i]=(0,l.useState)([]),[c,o]=(0,l.useState)(null),[d,x]=(0,l.useState)("device"),[m,p]=(0,l.useState)("details"),[u,b]=(0,l.useState)({name:"",phone:"",state:""}),[f,g]=(0,l.useState)(""),[j,w]=(0,l.useState)(""),[N,y]=(0,l.useState)(null),[k,S]=(0,l.useState)(!1),[C,A]=(0,l.useState)(!1),T=(0,l.useRef)(null),[I,D]=(0,l.useState)(null);(0,l.useEffect)(()=>{E()},[]);let E=async()=>{S(!0);try{let e=await K.getProducts();i(e)}catch(e){console.error("Failed to load products")}finally{S(!1)}};(0,l.useEffect)(()=>{let e;return N&&"payment"===m&&(A(!0),e=setInterval(async()=>{try{let s=await K.verifyTransaction(N.tx_ref);if(!t){let e={tx_ref:N.tx_ref,amount:N.amount,createdAt:new Date().toISOString(),type:"ecommerce",status:s.status,product:c||void 0,customerName:u.name,phone:u.phone,deliveryData:{manifest:null==c?void 0:c.name}};(0,v.bl)(e)}("paid"===s.status||"delivered"===s.status)&&(L(s),A(!1),clearInterval(e))}catch(e){}},3e3)),()=>clearInterval(e)},[N,m]);let L=e=>{p("success"),B.A.success("Payment confirmed!");let s={...e,createdAt:new Date().toISOString(),amount:e.amount||(null==N?void 0:N.amount)||0,type:"ecommerce",product:c,customerName:u.name,phone:u.phone,tx_ref:(null==N?void 0:N.tx_ref)||e.tx_ref,deliveryData:{manifest:null==c?void 0:c.name}};t?D(e):((0,v.bl)(s),D(s))},Z=()=>{u.name&&u.phone&&u.state?t?p("agent_pin"):R():p("form")},_=async()=>{if(c&&t){if(4!==j.length)return B.A.error("Enter valid 4-digit PIN");S(!0);try{let e=await K.agentWalletPurchase({agentId:t.id,pin:j,type:"ecommerce",payload:{productId:c.id,simId:f||void 0,name:u.name,phone:u.phone,state:u.state}});y({tx_ref:e.transaction.tx_ref,amount:e.transaction.amount,account_number:"WALLET",account_name:"WALLET",bank:"WALLET"}),L(e.transaction)}catch(e){B.A.error(e.message||"Purchase failed")}finally{S(!1)}}},R=async()=>{if(c){S(!0);try{let e=await K.initiateEcommercePayment({productId:c.id,simId:f||void 0,...u});y(e),t||(0,v.bl)({id:"temp-"+Date.now(),tx_ref:e.tx_ref,type:"ecommerce",status:"pending",amount:e.amount,createdAt:new Date().toISOString(),product:c,customerName:u.name,phone:u.phone,deliveryData:{manifest:c.name}}),p("payment")}catch(e){B.A.error(e.message||"Error creating order")}finally{S(!1)}}},z=async()=>{if(N){S(!0);try{let e=await K.verifyTransaction(N.tx_ref);"paid"===e.status||"delivered"===e.status?L(e):B.A.info("Payment not received yet.")}catch(e){B.A.error("Verification failed.")}finally{S(!1)}}},G=async()=>{if(null!==T.current)try{let e=await (0,ea.YM)(T.current,{cacheBust:!0,pixelRatio:3}),t=document.createElement("a");t.download="SAUKI-STORE-".concat(null==N?void 0:N.tx_ref,".png"),t.href=e,t.click(),B.A.success("Receipt downloaded")}catch(e){B.A.error("Failed to generate receipt")}},J=r.filter(e=>(e.category||"device")===d),H=r.filter(e=>"sim"===e.category),V=H.find(e=>e.id===f),el=c?c.price+(V?V.price:0):0,en=n.E.div;return(0,a.jsxs)("div",{className:"p-6 pb-32",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[s&&(0,a.jsx)("button",{onClick:s,className:"bg-slate-100 p-2 rounded-xl text-slate-500 font-bold text-xs uppercase tracking-widest",children:"Back"}),(0,a.jsxs)("h1",{className:"text-2xl font-black text-slate-900 flex items-center gap-3",children:[(0,a.jsx)("div",{className:(0,v.cn)("w-11 h-11 rounded-2xl flex items-center justify-center shadow-xl shadow-slate-200",t?"bg-purple-600 text-white":"bg-slate-900 text-white"),children:(0,a.jsx)(q.Z,{className:"w-5 h-5"})}),t?"Agent Store":"Premium Store"]})]}),(0,a.jsxs)("div",{className:"flex p-1.5 bg-slate-100 rounded-[1.5rem] mb-6 overflow-x-auto no-scrollbar",children:[(0,a.jsx)("button",{onClick:()=>x("device"),className:(0,v.cn)("flex-1 min-w-[100px] whitespace-nowrap px-4 py-3 text-[10px] font-black uppercase tracking-widest rounded-xl transition-all","device"===d?"bg-white text-slate-900 shadow-md":"text-slate-500"),children:"Devices"}),(0,a.jsx)("button",{onClick:()=>x("sim"),className:(0,v.cn)("flex-1 min-w-[100px] whitespace-nowrap px-4 py-3 text-[10px] font-black uppercase tracking-widest rounded-xl transition-all","sim"===d?"bg-white text-slate-900 shadow-md":"text-slate-500"),children:"Data SIMs"}),(0,a.jsx)("button",{onClick:()=>x("package"),className:(0,v.cn)("flex-1 min-w-[120px] whitespace-nowrap px-4 py-3 text-[10px] font-black uppercase tracking-widest rounded-xl transition-all","package"===d?"bg-white text-slate-900 shadow-md":"text-slate-500"),children:"Full Package"})]}),k&&0===r.length?(0,a.jsx)("div",{className:"flex justify-center py-20",children:(0,a.jsx)(F.Z,{className:"animate-spin w-8 h-8 text-slate-200"})}):(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:0===J.length?(0,a.jsx)("div",{className:"col-span-2 text-center text-slate-400 py-20 font-black uppercase tracking-widest text-[10px]",children:"No Inventory Available"}):J.map(e=>(0,a.jsxs)(en,{whileTap:{scale:.96},className:"bg-white rounded-[2rem] p-4 shadow-sm border border-slate-100 flex flex-col cursor-pointer hover:shadow-2xl hover:shadow-slate-100 transition-all group",onClick:()=>o(e),children:[(0,a.jsx)("div",{className:"aspect-square bg-slate-50 rounded-2xl mb-4 relative overflow-hidden flex items-center justify-center p-4",children:(0,a.jsx)("img",{src:e.image,alt:e.name,className:"object-contain w-full h-full mix-blend-multiply group-hover:scale-110 transition-transform duration-700"})}),(0,a.jsx)("h3",{className:"font-black text-slate-900 text-[10px] line-clamp-2 min-h-[32px] leading-tight mb-2 uppercase tracking-tight",children:e.name}),(0,a.jsx)("div",{className:"mt-auto",children:(0,a.jsx)("div",{className:"font-black text-blue-600 text-sm tracking-tighter",children:(0,v.xG)(e.price)})})]},e.id))}),(0,a.jsxs)(P,{isOpen:!!c,onClose:()=>{o(null),p("details")},title:"payment"===m?"Order Fulfillment":"Product Showcase",children:["details"===m&&c&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"aspect-[4/3] bg-slate-50 rounded-[2.5rem] overflow-hidden flex items-center justify-center p-8 border border-slate-100 shadow-inner",children:(0,a.jsx)("img",{src:c.image,alt:c.name,className:"w-full h-full object-contain mix-blend-multiply drop-shadow-2xl"})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-black text-slate-900 tracking-tighter",children:(0,v.xG)(c.price)}),(0,a.jsx)("p",{className:"text-lg font-black text-slate-900 mt-1 uppercase leading-none tracking-tight",children:c.name})]}),(0,a.jsxs)("div",{className:"bg-green-50 text-green-600 px-3 py-1.5 rounded-xl text-[10px] font-black uppercase border border-green-100 flex items-center gap-1 shadow-sm",children:[(0,a.jsx)(X.Z,{className:"w-3 h-3 fill-green-600"})," In Stock"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,a.jsxs)("div",{className:"p-3 bg-slate-50 rounded-2xl border border-slate-100 flex flex-col items-center text-center",children:[(0,a.jsx)(h.Z,{className:"w-5 h-5 text-blue-600 mb-1"}),(0,a.jsx)("span",{className:"text-[8px] font-black uppercase text-slate-400 tracking-widest",children:"Premium"})]}),(0,a.jsxs)("div",{className:"p-3 bg-slate-50 rounded-2xl border border-slate-100 flex flex-col items-center text-center",children:[(0,a.jsx)(Q.Z,{className:"w-5 h-5 text-blue-600 mb-1"}),(0,a.jsx)("span",{className:"text-[8px] font-black uppercase text-slate-400 tracking-widest",children:"NATIONWIDE"})]}),(0,a.jsxs)("div",{className:"p-3 bg-slate-50 rounded-2xl border border-slate-100 flex flex-col items-center text-center",children:[(0,a.jsx)(X.Z,{className:"w-5 h-5 text-blue-600 mb-1"}),(0,a.jsx)("span",{className:"text-[8px] font-black uppercase text-slate-400 tracking-widest",children:"INSTANT"})]})]}),(0,a.jsxs)("div",{className:"bg-slate-50/50 p-6 rounded-[2rem] border border-slate-100",children:[(0,a.jsx)("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-3",children:"Product Description"}),(0,a.jsx)("p",{className:"text-slate-600 text-sm font-medium leading-relaxed italic",children:c.description||"Unleash high-speed performance with Sauki Mart's flagship connectivity suite. Optimized for maximum network stability across all Nigerian regions."})]}),("device"===c.category||"package"===c.category)&&H.length>0&&(0,a.jsxs)("div",{className:"bg-slate-900 p-6 rounded-[2rem] shadow-2xl shadow-slate-200",children:[(0,a.jsxs)("label",{className:"text-[10px] font-black text-white/50 uppercase tracking-widest mb-3 block flex items-center gap-2",children:[(0,a.jsx)($.Z,{className:"w-4 h-4 text-blue-400"})," Component Upsell?"]}),(0,a.jsxs)("select",{className:"w-full p-4 rounded-2xl border-none bg-white/10 text-white font-black text-sm backdrop-blur-xl outline-none focus:ring-2 focus:ring-blue-500/50 transition-all appearance-none",value:f,onChange:e=>g(e.target.value),style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='white'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E\")",backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.5em"},children:[(0,a.jsx)("option",{value:"",className:"text-slate-900",children:"None, Just the Base Item"}),H.map(e=>(0,a.jsxs)("option",{value:e.id,className:"text-slate-900",children:[e.name," (+",(0,v.xG)(e.price),")"]},e.id))]})]})]}),(0,a.jsxs)(M,{onClick:Z,className:(0,v.cn)("h-16 text-xl font-black text-white shadow-2xl shadow-slate-200 rounded-[2rem] uppercase tracking-tighter",t?"bg-purple-600":"bg-slate-900"),children:[t?"Proceed to Wallet Pay":"Confirm & Purchase"," ",V&&"(".concat((0,v.xG)(el),")")]})]}),"form"===m&&c&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-slate-50 p-5 rounded-[1.5rem] mb-4 flex items-center gap-4 border border-slate-100 shadow-inner",children:[(0,a.jsx)("img",{src:c.image,className:"w-14 h-14 object-contain mix-blend-multiply"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Order Summary"}),(0,a.jsxs)("p",{className:"text-sm font-black text-slate-900 uppercase tracking-tight",children:[c.name," ",V&&"+ ".concat(V.name)]}),(0,a.jsxs)("p",{className:"text-blue-600 font-black text-xs",children:[(0,v.xG)(el)," Total"]})]})]}),(0,a.jsx)(W,{label:"Receiver Full Name",placeholder:"e.g. John Doe",value:u.name,onChange:e=>b({...u,name:e.target.value}),className:"rounded-2xl h-14 font-black text-sm uppercase"}),(0,a.jsx)(W,{label:"Contact Phone",type:"tel",placeholder:"080...",value:u.phone,onChange:e=>b({...u,phone:e.target.value}),className:"rounded-2xl h-14 font-black text-sm"}),(0,a.jsx)(W,{label:"Detailed Delivery Address",placeholder:"Street, City, State",value:u.state,onChange:e=>b({...u,state:e.target.value}),className:"rounded-2xl h-14 font-black text-sm uppercase"}),(0,a.jsxs)(M,{onClick:Z,isLoading:k,className:(0,v.cn)("mt-4 h-16 text-xl font-black rounded-[2rem] uppercase tracking-tighter shadow-xl",t?"bg-purple-600 shadow-purple-100":"bg-blue-600 shadow-blue-100"),children:[t?"Authorize Charge":"Initialize Payment"," (",(0,v.xG)(el),")"]})]}),"agent_pin"===m&&t&&(0,a.jsxs)("div",{className:"space-y-6 text-center",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-purple-100 rounded-full flex items-center justify-center mx-auto text-purple-600 mb-4",children:(0,a.jsx)(ee.Z,{className:"w-10 h-10"})}),(0,a.jsx)("h3",{className:"text-xl font-black text-slate-900 uppercase",children:"Authorize Transaction"}),(0,a.jsxs)("p",{className:"text-slate-500 text-xs",children:["Enter your 4-digit PIN to debit ",(0,a.jsx)("strong",{children:(0,v.xG)(el)})," from your wallet."]}),(0,a.jsx)(W,{type:"password",maxLength:4,className:"text-center text-3xl tracking-[1em] font-black h-20 rounded-3xl",value:j,onChange:e=>w(e.target.value)}),(0,a.jsx)(M,{onClick:_,isLoading:k,className:"h-16 bg-slate-900 text-white rounded-[2rem] uppercase font-black tracking-widest shadow-xl",children:"Confirm Purchase"})]}),"payment"===m&&N&&!t&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-orange-50 border-2 border-orange-100 p-8 rounded-[2.5rem] text-center relative overflow-hidden shadow-inner",children:[C&&(0,a.jsxs)(en,{animate:{opacity:[.5,1,.5]},transition:{repeat:1/0,duration:2},className:"absolute top-4 right-4 text-[9px] text-orange-600 font-black uppercase tracking-widest flex items-center gap-1",children:[(0,a.jsx)(et.Z,{className:"w-3 h-3 animate-spin"})," Verifying"]}),(0,a.jsx)("p",{className:"text-[10px] text-orange-800 mb-2 font-black uppercase tracking-widest",children:"Transfer EXACTLY"}),(0,a.jsx)("p",{className:"text-5xl font-black text-orange-900 tracking-tighter",children:(0,v.xG)(N.amount)}),(0,a.jsx)("p",{className:"text-[10px] text-orange-600 mt-3 font-bold uppercase tracking-wider",children:"Gateway Secure Provisioning"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"bg-white border border-slate-200 p-5 rounded-2xl shadow-sm",children:[(0,a.jsx)("p",{className:"text-[10px] text-slate-400 uppercase tracking-widest font-black mb-1",children:"Bank Name"}),(0,a.jsx)("p",{className:"font-black text-slate-900 text-xl tracking-tight uppercase",children:N.bank})]}),(0,a.jsxs)("div",{className:"bg-white border-2 border-slate-200 p-5 rounded-3xl shadow-sm flex items-center justify-between group hover:border-blue-300 transition-all",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] text-slate-400 uppercase tracking-widest font-black mb-1",children:"Account Number"}),(0,a.jsx)("p",{className:"font-black text-3xl tracking-tight text-slate-900 font-mono",children:N.account_number})]}),(0,a.jsx)(M,{variant:"ghost",className:"w-14 h-14 p-0 text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-full shadow-inner",onClick:()=>{navigator.clipboard.writeText(N.account_number),B.A.success("Account number copied")},children:(0,a.jsx)(es.Z,{className:"w-6 h-6"})})]}),(0,a.jsxs)("div",{className:"bg-white border border-slate-200 p-5 rounded-2xl shadow-sm",children:[(0,a.jsx)("p",{className:"text-[10px] text-slate-400 uppercase tracking-widest font-black mb-1",children:"Beneficiary Name"}),(0,a.jsx)("p",{className:"font-black text-slate-900 text-base uppercase",children:N.account_name})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(M,{onClick:z,isLoading:k,className:"bg-green-600 hover:bg-green-700 h-16 text-white text-xl font-black shadow-2xl shadow-green-100 rounded-[2rem] uppercase tracking-tighter",children:"Confirm Transfer Made"}),(0,a.jsxs)("div",{className:"bg-slate-50 p-5 rounded-3xl text-center border border-slate-100",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3 text-slate-600 mb-1",children:[(0,a.jsx)(F.Z,{className:"w-4 h-4 animate-spin"}),(0,a.jsx)("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Awaiting Gateway Signal"})]}),(0,a.jsx)("p",{className:"text-[8px] text-slate-400 font-black uppercase tracking-[0.2em]",children:"Transaction is monitored 24/7"})]})]})]}),"success"===m&&c&&N&&(0,a.jsxs)("div",{className:"text-center space-y-6 py-4",children:[(0,a.jsx)(Y.S,{ref:T,transaction:(0,v.O3)(I||{tx_ref:N.tx_ref,amount:N.amount,createdAt:new Date().toISOString(),type:"ecommerce",product:c,description:c.name+(V?" + ".concat(V.name):""),status:"paid",customerName:u.name,customerPhone:u.phone},t)}),(0,a.jsx)("div",{className:"w-24 h-24 bg-green-500 rounded-full flex items-center justify-center mx-auto shadow-2xl shadow-green-200 animate-in zoom-in duration-500 scale-110",children:(0,a.jsx)(O.Z,{className:"w-12 h-12 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-4xl font-black text-slate-900 tracking-tighter uppercase",children:"ORDER CONFIRMED!"}),(0,a.jsx)("p",{className:"text-slate-500 mt-2 text-xs font-bold uppercase tracking-widest",children:"Verification Successful • Dispatching Shortly"}),(0,a.jsxs)("div",{className:"bg-blue-600 p-6 rounded-[2.5rem] mt-8 border-none text-left relative overflow-hidden shadow-2xl shadow-blue-100",children:[(0,a.jsx)(X.Z,{className:"absolute -right-6 -top-6 w-24 h-24 text-white/10"}),(0,a.jsxs)("p",{className:"font-black text-white text-sm flex items-center gap-2 uppercase tracking-tight",children:[(0,a.jsx)("span",{className:"w-3 h-3 rounded-full bg-green-400 animate-pulse"}),"Logistics Priority"]}),(0,a.jsxs)("p",{className:"text-[10px] text-blue-100 mt-2 font-bold uppercase tracking-wide",children:["Our logistics hub will contact ",(0,a.jsx)("strong",{children:u.phone})," to coordinate final delivery."]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 pt-6",children:[(0,a.jsxs)(M,{onClick:G,className:"bg-slate-900 text-white shadow-2xl shadow-slate-200 h-16 text-xl font-black rounded-[2rem] uppercase tracking-tighter",children:[(0,a.jsx)(U.Z,{className:"w-5 h-5 mr-3"})," Get Digital Receipt"]}),(0,a.jsx)(M,{variant:"ghost",onClick:()=>{s?s():(o(null),p("details"),y(null),b({name:"",phone:"",state:""}),g(""))},className:"font-black text-slate-400 uppercase tracking-widest text-[10px]",children:"Close Dashboard"})]})]})]})]})},en=e=>{let{agent:t,onBack:s}=e,[r,i]=(0,l.useState)([]),[c,o]=(0,l.useState)(null),[d,x]=(0,l.useState)(null),[h,p]=(0,l.useState)(""),[u,b]=(0,l.useState)("plans"),[f,g]=(0,l.useState)(null),[j,w]=(0,l.useState)(!1),[N,y]=(0,l.useState)(!1),[k,S]=(0,l.useState)(""),C=(0,l.useRef)(null),[A,T]=(0,l.useState)(null);(0,l.useEffect)(()=>{I()},[]);let I=async()=>{try{let e=await K.getDataPlans();i(e)}catch(e){console.error("Failed to load plans")}};(0,l.useEffect)(()=>{let e;return f&&"payment"===u&&(y(!0),e=setInterval(async()=>{try{let s=await K.verifyTransaction(f.tx_ref);if(!t){let e={tx_ref:f.tx_ref,amount:(null==d?void 0:d.price)||0,createdAt:new Date().toISOString(),type:"data",status:s.status,dataPlan:d||void 0,phone:h};(0,v.bl)(e)}"delivered"===s.status?(D(s),y(!1),clearInterval(e)):s.status}catch(e){}},3e3)),()=>clearInterval(e)},[f,u]);let D=e=>{b("success"),B.A.success("Data Delivered!");let s={...e,createdAt:new Date().toISOString(),amount:(null==d?void 0:d.price)||0,type:"data",dataPlan:d,tx_ref:(null==f?void 0:f.tx_ref)||e.tx_ref,status:"delivered"};t?T(e):((0,v.bl)(s),T(s))},E=c?r.filter(e=>e.network===c):[],L=e=>{o(e),b("plans")},Z=e=>{x(e),b("confirm")},_=async()=>{if(d&&t){if(4!==k.length)return B.A.error("Enter valid 4-digit PIN");w(!0);try{let e=await K.agentWalletPurchase({agentId:t.id,pin:k,type:"data",payload:{planId:d.id,phone:h}});g({tx_ref:e.transaction.tx_ref,amount:e.transaction.amount,account_number:"WALLET",account_name:"WALLET",bank:"WALLET"}),D(e.transaction)}catch(e){B.A.error(e.message||"Purchase failed")}finally{w(!1)}}},R=async()=>{w(!0);try{let e=await K.initiateDataPayment({planId:d.id,phone:h});g(e),t||(0,v.bl)({id:"temp-"+Date.now(),tx_ref:e.tx_ref,type:"data",status:"pending",phone:h,amount:d.price,createdAt:new Date().toISOString(),dataPlan:d||void 0}),b("payment")}catch(e){B.A.error(e.message||"Connection error. Try again.")}finally{w(!1)}},z=async()=>{if(f){w(!0);try{let e=await K.verifyTransaction(f.tx_ref);"delivered"===e.status?D(e):"paid"===e.status?B.A.info("Payment confirmed. Delivery processing..."):B.A.info("Payment not yet received. Please wait.")}catch(e){B.A.error("Could not verify status.")}finally{w(!1)}}},G=async()=>{if(null!==C.current)try{let e=await (0,ea.YM)(C.current,{cacheBust:!0,pixelRatio:3}),t=document.createElement("a");t.download="SAUKI-DATA-".concat(null==f?void 0:f.tx_ref,".png"),t.href=e,t.click(),B.A.success("Receipt downloaded")}catch(e){B.A.error("Failed to generate receipt")}},J=()=>{s?s():("success"===u&&(o(null),x(null),p("")),b("plans"),g(null))},H=n.E.button,V=n.E.div;return(0,a.jsxs)("div",{className:"p-6 pb-32",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[s&&(0,a.jsx)("button",{onClick:s,className:"bg-slate-100 p-2 rounded-xl text-slate-500 font-bold text-xs uppercase tracking-widest",children:"Back"}),(0,a.jsxs)("h1",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:[(0,a.jsx)(m.Z,{className:(0,v.cn)("w-6 h-6",t?"text-purple-600":"text-slate-900")}),t?"Agent Topup":"Instant Data"]})]}),c?(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{onClick:()=>o(null),className:"text-sm text-slate-500 mb-4 hover:text-slate-900 flex items-center",children:"← Change Network"}),(0,a.jsxs)("h2",{className:"text-xl font-bold text-slate-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)("img",{src:"/".concat(c.toLowerCase(),".png"),className:"w-6 h-6 object-contain"}),c," Bundles"]}),(0,a.jsx)("div",{className:"grid gap-3",children:E.map(e=>(0,a.jsxs)(V,{whileTap:{scale:.99},onClick:()=>Z(e),className:"bg-white p-5 rounded-xl border border-slate-100 shadow-sm flex justify-between items-center cursor-pointer hover:border-slate-300 transition-colors",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-lg font-bold text-slate-900",children:e.data}),(0,a.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:e.validity})]}),(0,a.jsx)("div",{className:"text-base font-semibold text-slate-900 bg-slate-50 px-4 py-2 rounded-lg border border-slate-100",children:(0,v.xG)(e.price)})]},e.id))})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-slate-500 mb-4",children:"Select Network Provider"}),["MTN","AIRTEL","GLO"].map(e=>(0,a.jsxs)(H,{whileTap:{scale:.98},onClick:()=>L(e),className:(0,v.cn)("w-full h-24 rounded-2xl flex items-center px-6 font-bold text-xl shadow-sm transition-all border border-slate-100 relative overflow-hidden bg-white","MTN"===e?"hover:border-yellow-400":"AIRTEL"===e?"hover:border-red-400":"hover:border-green-400"),children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-slate-50 flex items-center justify-center mr-4 shadow-sm z-10 p-2",children:(0,a.jsx)("img",{src:"/".concat(e.toLowerCase(),".png"),alt:e,className:"w-full h-full object-contain"})}),(0,a.jsx)("span",{className:"z-10 text-slate-800",children:e})]},e))]}),(0,a.jsxs)(P,{isOpen:!!d,onClose:J,title:"Purchase Data",children:["confirm"===u&&d&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center pb-6 border-b border-slate-100",children:[(0,a.jsx)("span",{className:(0,v.cn)("px-4 py-1.5 rounded-full text-xs font-bold mb-3 inline-block shadow-sm",v.xU[d.network]),children:d.network}),(0,a.jsx)("h3",{className:"text-5xl font-black text-slate-900 my-2",children:d.data}),(0,a.jsx)("p",{className:"text-slate-500 font-medium",children:d.validity})]}),(0,a.jsx)(W,{label:"Beneficiary Phone Number",placeholder:"080...",type:"tel",value:h,onChange:e=>p(e.target.value),className:"text-lg tracking-wide h-14"}),(0,a.jsxs)("div",{className:"flex justify-between items-center bg-slate-50 p-5 rounded-xl border border-slate-100",children:[(0,a.jsx)("span",{className:"text-slate-600 font-medium",children:"Total Price"}),(0,a.jsx)("span",{className:"text-2xl font-black text-slate-900",children:(0,v.xG)(d.price)})]}),(0,a.jsx)(M,{onClick:()=>{d&&!(h.length<10)&&(t?b("agent_pin"):R())},isLoading:j,className:(0,v.cn)("h-14 text-lg text-white",t?"bg-purple-600":"bg-slate-900"),children:t?"Wallet Checkout":"Pay Securely"})]}),"agent_pin"===u&&t&&(0,a.jsxs)("div",{className:"space-y-6 text-center",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-purple-100 rounded-full flex items-center justify-center mx-auto text-purple-600 mb-4",children:(0,a.jsx)(ee.Z,{className:"w-10 h-10"})}),(0,a.jsx)("h3",{className:"text-xl font-black text-slate-900 uppercase",children:"Authorize Transaction"}),(0,a.jsxs)("p",{className:"text-slate-500 text-xs",children:["Enter your 4-digit PIN to debit ",(0,a.jsx)("strong",{children:d&&(0,v.xG)(d.price)}),"."]}),(0,a.jsx)(W,{type:"password",maxLength:4,className:"text-center text-3xl tracking-[1em] font-black h-20 rounded-3xl",value:k,onChange:e=>S(e.target.value)}),(0,a.jsx)(M,{onClick:_,isLoading:j,className:"h-16 bg-slate-900 text-white rounded-[2rem] uppercase font-black tracking-widest shadow-xl",children:"Confirm Purchase"})]}),"payment"===u&&f&&!t&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-orange-50 border border-orange-100 p-6 rounded-2xl text-center relative overflow-hidden",children:[N&&(0,a.jsxs)(V,{animate:{opacity:[.5,1,.5]},transition:{repeat:1/0,duration:2},className:"absolute top-2 right-2 text-[10px] text-orange-600 font-bold uppercase flex items-center gap-1",children:[(0,a.jsx)(et.Z,{className:"w-3 h-3 animate-spin"})," Detecting"]}),(0,a.jsx)("p",{className:"text-sm text-orange-800 mb-2 font-medium",children:"Transfer EXACTLY"}),(0,a.jsx)("p",{className:"text-4xl font-black text-orange-900 tracking-tight",children:(0,v.xG)(f.amount)}),(0,a.jsx)("p",{className:"text-xs text-orange-600 mt-2",children:"to the account below"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"bg-white border border-slate-200 p-4 rounded-xl shadow-sm",children:[(0,a.jsx)("p",{className:"text-[10px] text-slate-400 uppercase tracking-widest font-bold mb-1",children:"Bank Name"}),(0,a.jsx)("p",{className:"font-bold text-slate-900 text-lg",children:f.bank})]}),(0,a.jsxs)("div",{className:"bg-white border border-slate-200 p-4 rounded-xl shadow-sm flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] text-slate-400 uppercase tracking-widest font-bold mb-1",children:"Account Number"}),(0,a.jsx)("p",{className:"font-mono text-2xl font-bold tracking-wider text-slate-900",children:f.account_number})]}),(0,a.jsx)(M,{variant:"ghost",className:"w-12 h-12 p-0 text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-full",onClick:()=>{navigator.clipboard.writeText(f.account_number),B.A.success("Account number copied!")},children:(0,a.jsx)(es.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"bg-white border border-slate-200 p-4 rounded-xl shadow-sm",children:[(0,a.jsx)("p",{className:"text-[10px] text-slate-400 uppercase tracking-widest font-bold mb-1",children:"Account Name"}),(0,a.jsx)("p",{className:"font-bold text-slate-900 text-sm",children:f.account_name})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(M,{onClick:z,isLoading:j,className:"bg-green-600 hover:bg-green-700 h-14 text-white text-lg font-bold shadow-lg shadow-green-100",children:"I Have Made the Transfer"}),(0,a.jsxs)("div",{className:"bg-slate-50 p-4 rounded-xl text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 text-slate-600 mb-2",children:[(0,a.jsx)(F.Z,{className:"w-4 h-4 animate-spin"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Auto-confirming payment..."})]}),(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"Data will be delivered immediately after confirmation."})]})]})]}),"success"===u&&d&&f&&(0,a.jsxs)("div",{className:"text-center space-y-6 py-4",children:[(0,a.jsx)(Y.S,{ref:C,transaction:(0,v.O3)(A||{tx_ref:f.tx_ref,amount:d.price,createdAt:new Date().toISOString(),type:"data",dataPlan:d,status:"delivered",phone:h},t)}),(0,a.jsx)("div",{className:"w-24 h-24 bg-green-500 rounded-full flex items-center justify-center mx-auto shadow-2xl shadow-green-200 animate-in zoom-in duration-300",children:(0,a.jsx)(O.Z,{className:"w-12 h-12 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Data Delivered!"}),(0,a.jsxs)("p",{className:"text-slate-500 mt-2 text-sm",children:[d.data," sent to ",h,"."]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 pt-4",children:[(0,a.jsxs)(M,{onClick:G,className:"bg-slate-900 text-white shadow-xl shadow-slate-200 h-14 text-lg",children:[(0,a.jsx)(U.Z,{className:"w-5 h-5 mr-2"})," Download Receipt"]}),(0,a.jsx)(M,{variant:"ghost",onClick:J,children:"Done"})]})]})]})]})};var er=s(3879),ei=s(1652),ec=s(9910),eo=s(1049),ed=s(8967);let ex=e=>{let{icon:t,label:s,onClick:l,color:n="bg-slate-900"}=e;return(0,a.jsxs)("button",{onClick:l,className:"bg-white p-4 rounded-[1.5rem] shadow-sm border border-slate-100 flex flex-col items-center justify-center gap-3 h-28 active:scale-95 transition-all group hover:shadow-lg",children:[(0,a.jsx)("div",{className:(0,v.cn)("w-10 h-10 rounded-xl flex items-center justify-center text-white shadow-lg",n),children:(0,a.jsx)(t,{className:"w-5 h-5"})}),(0,a.jsx)("span",{className:"text-[10px] font-black uppercase text-slate-900 tracking-tight",children:s})]})},em=e=>{let{onBack:t}=e,[s,i]=(0,l.useState)("login"),[c,x]=(0,l.useState)(null),[p,u]=(0,l.useState)(!1),[b,f]=(0,l.useState)(!1),[g,j]=(0,l.useState)([]),[N,k]=(0,l.useState)(null),[S,C]=(0,l.useState)(null),[A,T]=(0,l.useState)(!1),[I,D]=(0,l.useState)({phone:"",pin:""}),[E,L]=(0,l.useState)({firstName:"",lastName:"",phone:"",pin:"",confirmPin:""}),[Z,_]=(0,l.useState)(""),R=(0,l.useRef)(null);(0,l.useEffect)(()=>{let e;return"dashboard"===s&&c&&(U(),e=setInterval(()=>{F(!0)},3e4)),()=>clearInterval(e)},[s,c]);let F=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(c){e||f(!0);try{let t=await K.agentGetBalance(c.id);x(e=>e?{...e,balance:t.balance}:null),e||(B.A.success("Sync Complete"),y("success")),U()}catch(t){e||B.A.error("Refresh failed")}finally{e||f(!1)}}},U=async()=>{if(c)try{let e=await fetch("/api/agent/transactions?agentId=".concat(c.id)).then(e=>e.json());e.transactions&&j(e.transactions)}catch(e){}},z=async()=>{if(I.phone.length<10||4!==I.pin.length)return B.A.error("Invalid credentials");u(!0);try{let e=await K.agentLogin(I);if(!e.agent.isActive)throw Error("Account Suspended");x(e.agent),i("dashboard"),y("success"),B.A.success("Welcome, "+e.agent.firstName)}catch(e){y("error"),B.A.error(e.message)}finally{u(!1)}},G=async()=>{if(!E.firstName||!E.lastName||E.phone.length<10)return B.A.error("Complete all fields");if(E.pin!==E.confirmPin)return B.A.error("PINs do not match");if(4!==E.pin.length)return B.A.error("PIN must be 4 digits");u(!0);try{let e=await K.agentRegister(E);x(e.agent),i("dashboard"),y("success"),B.A.success("Account Created!")}catch(e){B.A.error(e.message)}finally{u(!1)}},J=async()=>{if(4!==Z.length||!c)return B.A.error("Invalid PIN");u(!0);try{await fetch("/api/agent/update-pin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({agentId:c.id,oldPin:I.pin,newPin:Z})}),B.A.success("PIN Updated"),_(""),T(!1)}catch(e){B.A.error("Update failed")}finally{u(!1)}},H=e=>{k(e),setTimeout(async()=>{if(R.current){let t=await (0,ea.YM)(R.current,{cacheBust:!0,pixelRatio:3,backgroundColor:"#ffffff"}),s=document.createElement("a");s.download="SAUKI-RECEIPT-".concat(e.tx_ref,".png"),s.href=t,s.click(),B.A.success("Receipt Saved"),k(null)}},500)},V=n.E.div;return n.E.button,(0,a.jsxs)("div",{className:"h-screen bg-[#F2F2F7] font-sans text-slate-900 overflow-hidden flex flex-col",children:[N&&(0,a.jsx)(Y.S,{ref:R,transaction:(0,v.O3)(N,c)}),(0,a.jsxs)(r.M,{mode:"wait",children:["login"===s&&(0,a.jsxs)(V,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col h-full overflow-y-auto",children:[(0,a.jsxs)("div",{className:"px-6 pt-safe flex justify-between items-center shrink-0",children:[(0,a.jsx)("button",{onClick:t,className:"p-3 bg-white rounded-full text-slate-600 shadow-sm border border-slate-100 hover:bg-slate-50 transition-colors",children:(0,a.jsx)(er.Z,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>i("reg_terms"),className:"px-5 py-3 bg-slate-900 text-white rounded-full text-xs font-bold uppercase tracking-wide shadow-lg shadow-slate-300",children:"Register"})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col justify-center px-8 pb-20",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-slate-900 rounded-[1.5rem] flex items-center justify-center mb-6 shadow-2xl shadow-slate-200",children:(0,a.jsx)(o.Z,{className:"w-8 h-8 text-white"})}),(0,a.jsxs)("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter uppercase mb-2",children:["Agent",(0,a.jsx)("br",{}),"Console"]}),(0,a.jsx)("p",{className:"text-slate-500 font-medium text-sm",children:"Secure Terminal Login"})]}),(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsx)(W,{label:"Registered Phone",value:I.phone,onChange:e=>D({...I,phone:e.target.value}),className:"h-16 text-xl tracking-wide font-semibold bg-white border border-slate-100",placeholder:"080..."}),(0,a.jsx)(W,{label:"Access PIN",type:"password",maxLength:4,value:I.pin,onChange:e=>D({...I,pin:e.target.value}),className:"h-16 text-center text-4xl font-black tracking-[0.5em] bg-white border border-slate-100",placeholder:"••••"}),(0,a.jsxs)(M,{onClick:z,isLoading:p,className:"h-16 bg-blue-600 rounded-[2rem] font-black uppercase tracking-widest text-white shadow-xl shadow-blue-200 mt-4",children:["Secure Login ",(0,a.jsx)(ei.Z,{className:"w-5 h-5 ml-2"})]})]})]})]},"login"),"reg_terms"===s&&(0,a.jsxs)(V,{initial:{opacity:0},animate:{opacity:1},className:"p-8 pt-safe max-w-md mx-auto h-full flex flex-col bg-white",children:[(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto no-scrollbar",children:[(0,a.jsx)(h.Z,{className:"w-16 h-16 text-red-600 mb-6"}),(0,a.jsx)("h2",{className:"text-3xl font-black uppercase tracking-tighter mb-2 text-slate-900",children:"Mandatory Verification"}),(0,a.jsxs)("div",{className:"space-y-6 mb-8 mt-6",children:[(0,a.jsxs)("div",{className:"bg-red-50 p-6 rounded-[2rem] border border-red-100 relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-20 h-20 bg-red-100 rounded-full blur-xl -mr-10 -mt-10"}),(0,a.jsx)("h4",{className:"font-black text-xs uppercase mb-2 text-red-700 tracking-widest",children:"Crucial Step"}),(0,a.jsxs)("p",{className:"text-sm font-bold text-slate-800 leading-relaxed",children:["After registration, ",(0,a.jsx)("span",{className:"text-red-600 underline decoration-2",children:"an agent will call you"})," to verify your identity."]}),(0,a.jsxs)("p",{className:"text-xs text-slate-500 mt-3 font-medium",children:["Failure to answer this call or provide proof of identity will result in immediate ",(0,a.jsx)("strong",{className:"text-red-600",children:"account revocation"}),"."]})]}),(0,a.jsxs)("div",{className:"bg-slate-50 p-6 rounded-[2rem] border border-slate-100",children:[(0,a.jsx)("h4",{className:"font-black text-xs uppercase mb-2 text-slate-400 tracking-widest",children:"Policy Agreement"}),(0,a.jsxs)("ul",{className:"text-xs font-medium text-slate-600 space-y-2 list-disc pl-4",children:[(0,a.jsx)("li",{children:"Inactive accounts (30 days) are suspended."}),(0,a.jsx)("li",{children:"Wallets are prepaid and non-refundable."}),(0,a.jsx)("li",{children:"Fraudulent activity leads to blacklisting."})]})]})]})]}),(0,a.jsxs)("div",{className:"pt-4 space-y-3",children:[(0,a.jsx)(M,{onClick:()=>i("register"),className:"h-16 bg-slate-900 rounded-[2rem] font-black uppercase tracking-widest text-white",children:"I Understand & Accept"}),(0,a.jsx)("button",{onClick:()=>i("login"),className:"w-full py-4 text-center text-slate-400 font-bold text-xs uppercase",children:"Cancel"})]})]},"terms"),"register"===s&&(0,a.jsxs)(V,{initial:{opacity:0},animate:{opacity:1},className:"p-8 pt-safe max-w-md mx-auto h-full overflow-y-auto",children:[(0,a.jsx)("h2",{className:"text-3xl font-black uppercase tracking-tighter mb-8",children:"Agent Profile"}),(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(W,{label:"First Name",value:E.firstName,onChange:e=>L({...E,firstName:e.target.value}),className:"h-14 bg-white",placeholder:"John"}),(0,a.jsx)(W,{label:"Last Name",value:E.lastName,onChange:e=>L({...E,lastName:e.target.value}),className:"h-14 bg-white",placeholder:"Doe"})]}),(0,a.jsx)(W,{label:"Phone Number",value:E.phone,onChange:e=>L({...E,phone:e.target.value}),className:"h-14 bg-white font-bold",placeholder:"080..."}),(0,a.jsxs)("div",{className:"bg-blue-50 p-6 rounded-[2rem] border border-blue-100",children:[(0,a.jsx)("p",{className:"text-xs font-bold text-blue-800 uppercase tracking-wide mb-4 text-center",children:"Set Transaction PIN"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(W,{label:"Create PIN",type:"password",maxLength:4,value:E.pin,onChange:e=>L({...E,pin:e.target.value}),className:"h-14 text-center font-black bg-white",placeholder:"****"}),(0,a.jsx)(W,{label:"Confirm PIN",type:"password",maxLength:4,value:E.confirmPin,onChange:e=>L({...E,confirmPin:e.target.value}),className:"h-14 text-center font-black bg-white",placeholder:"****"})]})]}),(0,a.jsx)(M,{onClick:G,isLoading:p,className:"h-16 bg-slate-900 rounded-[2rem] font-black uppercase tracking-widest text-white shadow-xl mt-4",children:"Create Account"}),(0,a.jsx)("button",{onClick:()=>i("login"),className:"w-full text-center text-slate-400 font-bold text-xs uppercase mt-4",children:"Back to Login"})]})]},"reg_form"),"dashboard"===s&&c&&(0,a.jsxs)(V,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col h-screen overflow-hidden bg-[#F2F2F7]",children:[(0,a.jsxs)("div",{className:"px-6 pt-safe pb-4 bg-white/80 backdrop-blur-xl border-b border-slate-200/50 flex justify-between items-center sticky top-0 z-20",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Agent Terminal"}),(0,a.jsxs)("h1",{className:"text-lg font-black text-slate-900 leading-none",children:[c.firstName," ",c.lastName]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("button",{onClick:()=>T(!0),className:"p-2.5 bg-slate-100 rounded-full text-slate-600 hover:bg-slate-200",children:(0,a.jsx)(ec.Z,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>{x(null),i("login")},className:"p-2.5 bg-slate-100 text-red-500 rounded-full hover:bg-red-50",children:(0,a.jsx)(eo.Z,{className:"w-5 h-5"})})]})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto no-scrollbar p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"relative overflow-hidden bg-slate-900 rounded-[2.5rem] p-8 shadow-2xl shadow-slate-300",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-600 rounded-full blur-[80px] opacity-20 translate-x-20 -translate-y-20"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-purple-600 rounded-full blur-[60px] opacity-20 -translate-x-10 translate-y-10"}),(0,a.jsxs)("div",{className:"relative z-10 text-center",children:[(0,a.jsx)("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-[0.25em] mb-2",children:"Total Liquidity"}),(0,a.jsx)("h2",{className:"text-5xl font-black text-white tracking-tighter mb-6",children:(0,v.xG)(c.balance)}),(0,a.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-4 border border-white/5 mx-auto max-w-xs",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-[9px] font-black uppercase text-slate-400 tracking-widest",children:"Virtual Account"}),(0,a.jsx)("span",{className:"text-[9px] font-black bg-blue-600 text-white px-2 py-0.5 rounded uppercase",children:c.flwBankName||"WEMA"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"font-mono text-xl font-bold text-white tracking-widest",children:c.flwAccountNumber||"Unavailable"}),(0,a.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(c.flwAccountNumber),B.A.success("Copied")},className:"text-white/60 hover:text-white",children:(0,a.jsx)(es.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("button",{onClick:()=>F(),className:"mt-6 flex items-center justify-center gap-2 text-[10px] font-bold text-white/50 uppercase tracking-widest hover:text-white transition-colors mx-auto",children:[(0,a.jsx)(et.Z,{className:(0,v.cn)("w-3 h-3",b&&"animate-spin")})," Sync Balance"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.25em] mb-3 ml-2",children:"Control Center"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(ex,{icon:m.Z,label:"Data Bundle",color:"bg-blue-600",onClick:()=>C("data")}),(0,a.jsx)(ex,{icon:q.Z,label:"Device Store",color:"bg-purple-600",onClick:()=>C("store")})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-3 px-2",children:(0,a.jsx)("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.25em]",children:"Recent Activity"})}),(0,a.jsx)("div",{className:"bg-white rounded-[2rem] shadow-sm border border-slate-100 overflow-hidden min-h-[200px]",children:0===g.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-48 opacity-40",children:[(0,a.jsx)(w.Z,{className:"w-10 h-10 mb-2 text-slate-300"}),(0,a.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400",children:"No Records"})]}):(0,a.jsx)("div",{className:"divide-y divide-slate-50",children:g.map(e=>(0,a.jsxs)("div",{onClick:()=>H(e),className:"p-5 flex justify-between items-center hover:bg-slate-50 cursor-pointer active:scale-[0.99] transition-transform",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:(0,v.cn)("w-10 h-10 rounded-xl flex items-center justify-center","wallet_funding"===e.type?"bg-green-100 text-green-600":"bg-slate-100 text-slate-600"),children:"wallet_funding"===e.type?(0,a.jsx)(ed.Z,{className:"w-5 h-5"}):(0,a.jsx)(d.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs font-bold text-slate-900 uppercase",children:"wallet_funding"===e.type?"Deposit":e.dataPlan?"Data Sale":"Store Sale"}),(0,a.jsx)("p",{className:"text-[9px] text-slate-400 font-bold uppercase mt-0.5",children:new Date(e.createdAt).toLocaleDateString()})]})]}),(0,a.jsxs)("span",{className:(0,v.cn)("text-sm font-black","wallet_funding"===e.type?"text-green-600":"text-slate-900"),children:["wallet_funding"===e.type?"+":"-",(0,v.xG)(e.amount)]})]},e.id))})})]})]}),(0,a.jsx)(P,{isOpen:A,onClose:()=>T(!1),title:"Agent Settings",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-slate-50 p-6 rounded-[2rem] border border-slate-100 text-center",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-sm text-slate-400",children:(0,a.jsx)(o.Z,{className:"w-10 h-10"})}),(0,a.jsxs)("h3",{className:"text-xl font-black text-slate-900 uppercase",children:[c.firstName," ",c.lastName]}),(0,a.jsx)("p",{className:"text-xs font-bold text-slate-400",children:c.phone}),(0,a.jsxs)("div",{className:"mt-4 inline-flex items-center gap-2 bg-green-100 text-green-700 px-3 py-1 rounded-full text-[10px] font-black uppercase",children:[(0,a.jsx)(O.Z,{className:"w-3 h-3"})," Active Partner"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.25em] mb-4 pl-2",children:"Security"}),(0,a.jsx)(W,{type:"password",maxLength:4,placeholder:"New 4-Digit PIN",className:"mb-4 h-14 rounded-2xl text-center font-black tracking-[0.5em] bg-white border border-slate-200",value:Z,onChange:e=>_(e.target.value)}),(0,a.jsx)(M,{onClick:J,isLoading:p,className:"h-14 bg-slate-900 text-white rounded-2xl uppercase font-black tracking-widest shadow-xl",children:"Update PIN"})]})]})}),(0,a.jsxs)(P,{isOpen:!!S,onClose:()=>C(null),title:"data"===S?"Data Reseller":"Device Order",children:[(0,a.jsx)("div",{className:"bg-slate-50 -mx-6 -mt-6 p-6 mb-6 border-b border-slate-100 flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center border border-slate-100 shadow-sm",children:(0,a.jsx)(ee.Z,{className:"w-5 h-5 text-slate-900"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wide",children:"Available Balance"}),(0,a.jsx)("p",{className:"text-lg font-black text-slate-900 leading-none",children:(0,v.xG)(c.balance)})]})]})}),"data"===S&&(0,a.jsx)(en,{agent:c,onBack:()=>C(null)}),"store"===S&&(0,a.jsx)(el,{agent:c,onBack:()=>C(null)})]})]},"dash")]})]})};var eh=s(489),ep=s(8670);let eu=e=>{let{onBack:t}=e,[s,n]=(0,l.useState)([]),[r,i]=(0,l.useState)(""),c=(0,l.useRef)(null),[o,d]=(0,l.useState)(null);(0,l.useEffect)(()=>{h()},[]);let h=()=>{try{let e=localStorage.getItem("sauki_user_history");e&&n(JSON.parse(e))}catch(e){}},p=e=>{d(e),setTimeout(async()=>{if(c.current){let t=await (0,ea.YM)(c.current,{cacheBust:!0,pixelRatio:3,backgroundColor:"#ffffff"}),s=document.createElement("a");s.download="RECEIPT-".concat(e.tx_ref,".png"),s.href=t,s.click(),B.A.success("Receipt Saved"),d(null)}},500)},u=s.filter(e=>{var t;return e.tx_ref.toLowerCase().includes(r.toLowerCase())||(null===(t=e.phone)||void 0===t?void 0:t.includes(r))});return(0,a.jsxs)("div",{className:"min-h-screen bg-slate-50 pb-32",children:[o&&(0,a.jsx)(Y.S,{ref:c,transaction:(0,v.O3)(o)}),(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl border-b border-slate-200 px-6 pt-12 pb-4 sticky top-0 z-10 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-black text-slate-900 uppercase tracking-tighter",children:"My Activity"}),(0,a.jsx)("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Local Records"})]}),s.length>0&&(0,a.jsx)("button",{onClick:()=>{confirm("Permanently delete all local transaction records?")&&(localStorage.removeItem("sauki_user_history"),n([]),B.A.success("History Cleared"))},className:"w-10 h-10 bg-red-50 text-red-500 rounded-full flex items-center justify-center hover:bg-red-100 transition-colors",children:(0,a.jsx)(eh.Z,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-slate-200 flex items-center gap-3 mb-6 shadow-sm",children:[(0,a.jsx)(ep.Z,{className:"w-5 h-5 text-slate-400"}),(0,a.jsx)("input",{className:"flex-1 outline-none text-sm font-bold text-slate-700 placeholder:text-slate-300",placeholder:"Search Reference or Phone...",value:r,onChange:e=>i(e.target.value)})]}),(0,a.jsx)("div",{className:"space-y-4",children:0===u.length?(0,a.jsxs)("div",{className:"text-center py-20 opacity-50",children:[(0,a.jsx)(eb,{className:"w-16 h-16 mx-auto mb-4 text-slate-300"}),(0,a.jsx)("p",{className:"font-bold text-slate-400 uppercase text-xs tracking-widest",children:"No Transactions Found"})]}):u.map((e,t)=>(0,a.jsxs)("div",{className:"bg-white p-5 rounded-[1.5rem] border border-slate-100 shadow-sm flex items-center justify-between group active:scale-98 transition-transform",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:(0,v.cn)("w-12 h-12 rounded-2xl flex items-center justify-center shadow-inner","data"===e.type?"bg-blue-50 text-blue-600":"wallet_funding"===e.type?"bg-green-50 text-green-600":"bg-purple-50 text-purple-600"),children:"data"===e.type?(0,a.jsx)(m.Z,{className:"w-6 h-6"}):"wallet_funding"===e.type?(0,a.jsx)(ed.Z,{className:"w-6 h-6"}):(0,a.jsx)(x.Z,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs font-black text-slate-900 uppercase tracking-tight",children:"data"===e.type?"Data Bundle":"ecommerce"===e.type?"Store Purchase":"Funding"}),(0,a.jsx)("p",{className:"text-[10px] text-slate-400 font-bold uppercase mt-0.5",children:new Date(e.createdAt).toLocaleDateString()}),(0,a.jsxs)("p",{className:"text-[9px] font-mono text-slate-300 mt-1",children:[e.tx_ref.slice(0,18),"..."]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,a.jsx)("span",{className:"font-black text-slate-900 text-sm",children:(0,v.xG)(e.amount)}),(0,a.jsxs)("button",{onClick:()=>p(e),className:"bg-slate-100 text-slate-600 px-3 py-1.5 rounded-lg text-[9px] font-black uppercase flex items-center gap-1 hover:bg-slate-200 transition-colors",children:[(0,a.jsx)(U.Z,{className:"w-3 h-3"})," Receipt"]})]})]},t))})]})]})},eb=e=>(0,a.jsxs)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),(0,a.jsx)("path",{d:"M3 3v5h5"}),(0,a.jsx)("path",{d:"M12 7v5l4 2"})]});var ef=s(5005);let eg=e=>{let{activeTab:t,onChange:s}=e,l=[{id:"home",icon:ef.Z,label:"Home"},{id:"store",icon:q.Z,label:"Store"},{id:"data",icon:m.Z,label:"Data"},{id:"agent",icon:o.Z,label:"Agent"},{id:"history",icon:w.Z,label:"Activity"}],n=e=>{k(),s(e)};return(0,a.jsx)("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:(0,a.jsx)("div",{className:"max-w-[480px] mx-auto bg-white/80 backdrop-blur-xl border-t border-slate-200/50 pb-safe pt-1",children:(0,a.jsx)("div",{className:"flex justify-between items-end h-[50px] px-2",children:l.map(e=>{let s=t===e.id;return(0,a.jsxs)("button",{onClick:()=>n(e.id),className:"group flex flex-col items-center justify-center w-full h-full active:scale-95 transition-transform duration-200",children:[(0,a.jsx)("div",{className:(0,v.cn)("mb-1 transition-all duration-300",s?"text-blue-600 -translate-y-0.5":"text-slate-400"),children:(0,a.jsx)(e.icon,{className:(0,v.cn)("w-6 h-6",s?"fill-current stroke-[2.5px]":"stroke-[2px]")})}),(0,a.jsx)("span",{className:(0,v.cn)("text-[9px] font-bold tracking-tight transition-colors duration-200",s?"text-blue-600":"text-slate-400"),children:e.label})]},e.id)})})})})};var ej=s(8998);let ew=()=>{let[e,t]=(0,l.useState)(null),[s,i]=(0,l.useState)(null);(0,l.useEffect)(()=>B.A.subscribe((e,s)=>{let a=Date.now();t({message:e,type:s,id:a}),setTimeout(()=>{t(e=>(null==e?void 0:e.id)===a?null:e)},3e3)}),[]),(0,l.useEffect)(()=>{let e=setInterval(async()=>{try{let e=await fetch("/api/system/message"),t=await e.json();if(t&&"PUSH"===t.type&&t.isActive){let e=JSON.parse(t.content);sessionStorage.getItem("lastPushId")!==t.id&&(i(e),sessionStorage.setItem("lastPushId",t.id),y("success"))}}catch(e){}},1e4);return()=>clearInterval(e)},[]);let o=n.E.div;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(r.M,{children:[e&&(0,a.jsx)(o,{initial:{opacity:0,y:-50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},transition:{type:"spring",stiffness:300,damping:25},className:"fixed top-6 left-4 right-4 z-[100] flex justify-center pointer-events-none",children:(0,a.jsxs)("div",{className:"bg-white/95 backdrop-blur-md border border-slate-100 shadow-2xl rounded-2xl p-4 flex items-center gap-4 min-w-[300px] max-w-md pointer-events-auto",children:[(0,a.jsxs)("div",{className:"p-2 rounded-full ".concat("success"===e.type?"bg-green-100 text-green-600":"error"===e.type?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"),children:["success"===e.type&&(0,a.jsx)(O.Z,{className:"w-5 h-5"}),"error"===e.type&&(0,a.jsx)(ej.Z,{className:"w-5 h-5"}),"info"===e.type&&(0,a.jsx)(N.Z,{className:"w-5 h-5"})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-semibold text-slate-900 text-sm",children:"success"===e.type?"Success":"error"===e.type?"Error":"Notice"}),(0,a.jsx)("p",{className:"text-slate-500 text-xs",children:e.message})]}),(0,a.jsx)("button",{onClick:()=>t(null),className:"text-slate-400 hover:text-slate-600",children:(0,a.jsx)(p.Z,{className:"w-4 h-4"})})]})}),s&&(0,a.jsx)(o,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-[110] flex items-center justify-center bg-black/40 backdrop-blur-sm p-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-[2rem] p-6 max-w-sm w-full shadow-2xl relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 h-2 bg-blue-600"}),(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-50 rounded-2xl flex items-center justify-center mb-4 text-blue-600",children:(0,a.jsx)(c.Z,{className:"w-6 h-6"})}),(0,a.jsx)("h3",{className:"text-xl font-black text-slate-900 mb-2",children:s.title}),(0,a.jsx)("p",{className:"text-slate-600 leading-relaxed text-sm mb-6",children:s.body}),(0,a.jsx)("button",{onClick:()=>i(null),className:"w-full bg-slate-900 text-white font-bold py-4 rounded-xl uppercase tracking-widest text-xs active:scale-95 transition-transform",children:"Dismiss"})]})})]})})},eN=e=>{let{onComplete:t}=e;(0,l.useEffect)(()=>{let e=setTimeout(t,2500);return()=>clearTimeout(e)},[t]);let s=n.E.div;return(0,a.jsx)(s,{className:"fixed inset-0 z-50 flex items-center justify-center bg-white",initial:{opacity:1},exit:{opacity:0},transition:{duration:.8,ease:"easeInOut"},children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,a.jsxs)(s,{initial:{opacity:0,scale:.9,y:15},animate:{opacity:1,scale:1,y:0},transition:{duration:.8,ease:"easeOut",delay:.2},className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-medium text-slate-500 tracking-widest uppercase mb-1",children:"Welcome to"}),(0,a.jsx)("h2",{className:"text-4xl font-black text-slate-900 tracking-tighter uppercase",children:"Sauki Mart"})]}),(0,a.jsx)(s,{initial:{width:0},animate:{width:60},transition:{duration:1,delay:.8},className:"h-1 bg-blue-600 mt-6 rounded-full"})]})})};function ev(){let[e,t]=(0,l.useState)("home"),[s,i]=(0,l.useState)(!0);(0,l.useEffect)(()=>{if(!window.history.state)try{window.history.replaceState({tab:"home"},"",null)}catch(e){}let e=e=>{e.state&&e.state.tab?t(e.state.tab):t("home")};return window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)},[]);let c=s=>{if(s!==e){t(s);try{window.history.pushState({tab:s},"",null)}catch(e){console.warn("Navigation history update failed:",e)}}},o=()=>c("home"),d=n.E.div;return(0,a.jsxs)("div",{className:"min-h-full bg-[#f8fafc] text-slate-900 selection:bg-slate-200",children:[(0,a.jsx)(ew,{}),(0,a.jsx)(r.M,{children:s&&(0,a.jsx)(eN,{onComplete:()=>i(!1)})}),!s&&(0,a.jsxs)("div",{className:"flex flex-col h-full max-w-[480px] mx-auto bg-white shadow-2xl relative",children:[(0,a.jsx)("div",{className:"flex-1 relative overflow-hidden",children:(0,a.jsx)(r.M,{mode:"wait",children:(0,a.jsx)(d,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.02},transition:{duration:.25,ease:[.32,.72,0,1]},className:"h-full overflow-y-auto no-scrollbar",children:(()=>{switch(e){case"home":default:return(0,a.jsx)(H,{onNavigate:c});case"store":return(0,a.jsx)(el,{onBack:o});case"data":return(0,a.jsx)(en,{onBack:o});case"agent":return(0,a.jsx)(em,{onBack:o});case"history":return(0,a.jsx)(eu,{onBack:o})}})()},e)})}),(0,a.jsx)(eg,{activeTab:e,onChange:c})]})]})}},4563:function(e,t,s){s.d(t,{S:function(){return o}});var a=s(3827),l=s(4090),n=s(1657),r=s(7976),i=s(8998),c=s(3236);let o=(0,l.forwardRef)((e,t)=>{let{transaction:s}=e,l="delivered"===s.status||"paid"===s.status||"successful"===s.status;return(0,a.jsx)("div",{style:{position:"fixed",left:"-9999px",top:"0",opacity:0,pointerEvents:"none"},children:(0,a.jsxs)("div",{ref:t,className:"w-[500px] bg-white text-slate-900 font-sans flex flex-col items-center relative pb-10",style:{fontFamily:"'Inter', sans-serif"},children:[(0,a.jsx)("div",{className:"w-full h-4 bg-slate-900"}),(0,a.jsxs)("div",{className:"w-full px-10 pt-8 pb-6 flex flex-col items-center border-b border-slate-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("div",{className:"w-14 h-14 bg-white rounded-xl flex items-center justify-center border border-slate-100 p-2 shadow-sm",children:(0,a.jsx)("img",{src:"/logo.png",alt:"Sauki Logo",className:"w-full h-full object-contain",crossOrigin:"anonymous"})}),(0,a.jsx)("h1",{className:"text-3xl font-black uppercase tracking-tighter text-slate-900",children:"SAUKI MART"})]}),(0,a.jsx)("p",{className:"text-[10px] font-bold uppercase tracking-[0.3em] text-slate-400",children:"Official Transaction Receipt"})]}),(0,a.jsxs)("div",{className:"w-full px-10 py-8 text-center bg-slate-50 border-b border-slate-100",children:[(0,a.jsx)("p",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 mb-2",children:"Total Amount"}),(0,a.jsx)("h2",{className:"text-5xl font-black text-slate-900 tracking-tighter mb-4",children:(0,n.xG)(s.amount)}),(0,a.jsxs)("div",{className:"inline-flex items-center gap-2 px-5 py-2 rounded-full border bg-white ".concat(l?"border-green-100 text-green-700":"border-slate-100 text-slate-500"),children:[l?(0,a.jsx)(r.Z,{className:"w-5 h-5"}):(0,a.jsx)(i.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"text-xs font-black uppercase tracking-widest",children:"delivered"===s.status?"SUCCESSFUL":s.status})]})]}),(0,a.jsxs)("div",{className:"w-full px-10 py-8 space-y-6",children:[(0,a.jsx)(d,{label:"Customer Name",value:s.customerName||"Sauki Customer"}),(0,a.jsx)(d,{label:"Phone Number",value:s.customerPhone}),(0,a.jsx)(d,{label:"Transaction Ref",value:s.tx_ref,mono:!0}),(0,a.jsx)(d,{label:"Date & Time",value:s.date}),(0,a.jsxs)("div",{className:"pt-6 mt-4 border-t-2 border-dashed border-slate-200",children:[(0,a.jsx)("p",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 mb-3",children:"Item Details"}),(0,a.jsx)("p",{className:"text-lg font-black text-slate-900 leading-snug uppercase",children:s.description}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-1 uppercase font-semibold tracking-wide bg-slate-100 inline-block px-2 py-1 rounded",children:s.type})]})]}),(0,a.jsxs)("div",{className:"w-full bg-slate-900 text-white p-8 mt-4 text-center relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 opacity-10 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-white via-transparent to-transparent"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("div",{className:"flex justify-center items-center gap-6 mb-6",children:[(0,a.jsx)("div",{className:"bg-white p-2 rounded-lg w-16 h-16 flex items-center justify-center shrink-0",children:(0,a.jsxs)("div",{className:"grid grid-cols-3 grid-rows-3 gap-1 w-full h-full",children:[(0,a.jsx)("div",{className:"bg-slate-900 col-span-1 row-span-1"}),(0,a.jsx)("div",{className:"bg-slate-900 col-span-1 row-span-1"}),(0,a.jsx)("div",{className:"bg-slate-900 col-span-1 row-span-1"}),(0,a.jsx)("div",{className:"bg-slate-900 col-span-1 row-span-1"}),(0,a.jsx)("div",{className:"bg-transparent col-span-1 row-span-1"}),(0,a.jsx)("div",{className:"bg-slate-900 col-span-1 row-span-1"}),(0,a.jsx)("div",{className:"bg-slate-900 col-span-1 row-span-1"}),(0,a.jsx)("div",{className:"bg-slate-900 col-span-1 row-span-1"}),(0,a.jsx)("div",{className:"bg-slate-900 col-span-1 row-span-1"})]})}),(0,a.jsxs)("div",{className:"text-left border-l border-slate-700 pl-6",children:[(0,a.jsx)("p",{className:"text-[9px] font-bold uppercase text-slate-500 tracking-widest mb-2",children:"Support Center"}),(0,a.jsx)("p",{className:"text-sm font-bold tracking-wide",children:"0806 193 4056"}),(0,a.jsx)("p",{className:"text-sm font-bold tracking-wide",children:"0704 464 7081"})]})]}),(0,a.jsxs)("div",{className:"pt-4 border-t border-slate-800 flex items-center justify-center gap-2",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4 text-green-500"}),(0,a.jsx)("p",{className:"text-[9px] font-bold uppercase tracking-widest text-slate-400",children:"Securely Processed by Sauki Data Links"})]})]})]})]})})}),d=e=>{let{label:t,value:s,mono:l}=e;return(0,a.jsxs)("div",{className:"flex justify-between items-center border-b border-slate-50 pb-2 last:border-0",children:[(0,a.jsx)("span",{className:"text-[10px] font-bold uppercase text-slate-400 tracking-wide",children:t}),(0,a.jsx)("span",{className:"text-sm font-bold text-slate-900 ".concat(l?"font-mono tracking-tight text-xs":""),children:s})]})}},6160:function(e,t,s){s.d(t,{A:function(){return l}});let a=null,l={success:e=>a&&a(e,"success"),error:e=>a&&a(e,"error"),info:e=>a&&a(e,"info"),subscribe:e=>(a=e,()=>{a=null})}},1657:function(e,t,s){s.d(t,{O3:function(){return o},bl:function(){return c},cn:function(){return n},xG:function(){return r},xU:function(){return i}});var a=s(3167),l=s(1367);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,l.m6)((0,a.W)(t))}function r(e){return new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(e)}let i={MTN:"bg-yellow-50 text-yellow-700",AIRTEL:"bg-red-50 text-red-700",GLO:"bg-green-50 text-green-700","9MOBILE":"bg-lime-50 text-lime-700"};function c(e){try{let t=localStorage.getItem("sauki_user_history"),s=t?JSON.parse(t):[],a=s.findIndex(t=>t.tx_ref===e.tx_ref);-1!==a?s[a]={...s[a],...e}:s.unshift(e),s.length>50&&(s=s.slice(0,50)),localStorage.setItem("sauki_user_history",JSON.stringify(s)),window.dispatchEvent(new Event("history-updated"))}catch(e){console.error("Failed to save history",e)}}function o(e,t){var s;let a="Unknown Item",l="Transaction";e.deliveryData&&e.deliveryData.manifest?(a=e.deliveryData.manifest,l="Merchandise"):"data"===e.type?(l="Data Bundle",a=e.dataPlan?"".concat(e.dataPlan.network," ").concat(e.dataPlan.data," (").concat(e.dataPlan.validity,")"):"Mobile Data Top-up"):"ecommerce"===e.type?(l="Device Order",e.product&&(a=e.product.name)):"wallet_funding"===e.type&&(l="Wallet Funding",a="Agent Wallet Credit");let n="Sauki Customer";return t||e.agentId?n=t?"".concat(t.firstName," ").concat(t.lastName):e.customerName?e.customerName:"Authorized Agent":e.customerName&&"undefined"!==e.customerName?n=e.customerName:"data"===e.type&&(n="Sauki Customer"),{tx_ref:e.tx_ref,amount:Math.abs(e.amount),date:new Date(e.createdAt).toLocaleString("en-NG",{dateStyle:"medium",timeStyle:"short"}),type:l,description:a,status:e.status,customerName:n,customerPhone:e.phone,deliveryAddress:e.deliveryState||(null===(s=e.deliveryData)||void 0===s?void 0:s.address)}}}}]);