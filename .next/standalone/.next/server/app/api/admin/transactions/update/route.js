"use strict";(()=>{var e={};e.id=187,e.ids=[187],e.modules={3524:e=>{e.exports=require("@prisma/client")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4268:(e,t,a)=>{a.r(t),a.d(t,{headerHooks:()=>h,originalPathname:()=>P,patchFetch:()=>A,requestAsyncStorage:()=>c,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>l,staticGenerationBailout:()=>v});var r={};a.r(r),a.d(r,{POST:()=>d});var n=a(5419),s=a(9108),i=a(9678),o=a(8070),u=a(3214);async function d(e){try{let{tx_ref:t,status:a,password:r}=await e.json();if(r!==process.env.ADMIN_PASSWORD)return o.Z.json({error:"Unauthorized"},{status:401});let n=await u._.transaction.update({where:{tx_ref:t},data:{status:a,deliveryData:{method:"Manual Admin Override",updatedAt:new Date().toISOString()}}});return o.Z.json({success:!0,transaction:n})}catch(e){return console.error("Admin status update error:",e),o.Z.json({error:"Update failed"},{status:500})}}let p=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/admin/transactions/update/route",pathname:"/api/admin/transactions/update",filename:"route",bundlePath:"app/api/admin/transactions/update/route"},resolvedPagePath:"/workspaces/APP-Final/app/api/admin/transactions/update/route.ts",nextConfigOutput:"standalone",userland:r}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:m,headerHooks:h,staticGenerationBailout:v}=p,P="/api/admin/transactions/update/route";function A(){return(0,i.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:l})}},3214:(e,t,a)=>{a.d(t,{_:()=>n});var r=a(3524);let n=globalThis.prisma||new r.PrismaClient({log:["query","error","warn"]})}};var t=require("../../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[1638,6206],()=>a(4268));module.exports=r})();