"use strict";(()=>{var e={};e.id=219,e.ids=[219],e.modules={3524:e=>{e.exports=require("@prisma/client")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},657:(e,r,a)=>{a.r(r),a.d(r,{headerHooks:()=>h,originalPathname:()=>v,patchFetch:()=>g,requestAsyncStorage:()=>p,routeModule:()=>l,serverHooks:()=>m,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>P});var t={};a.r(t),a.d(t,{POST:()=>c});var n=a(5419),s=a(9108),o=a(9678),i=a(8070),u=a(3214);async function c(e){try{let{password:r}=await e.json();if(r!==process.env.ADMIN_PASSWORD)return i.Z.json({error:"Unauthorized"},{status:401});return await u._.transaction.deleteMany({}),i.Z.json({success:!0,message:"Transaction history wiped."})}catch(e){return console.error(e),i.Z.json({error:"Failed to clear history"},{status:500})}}let l=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/admin/transactions/clear/route",pathname:"/api/admin/transactions/clear",filename:"route",bundlePath:"app/api/admin/transactions/clear/route"},resolvedPagePath:"/workspaces/APP-Final/app/api/admin/transactions/clear/route.ts",nextConfigOutput:"standalone",userland:t}),{requestAsyncStorage:p,staticGenerationAsyncStorage:d,serverHooks:m,headerHooks:h,staticGenerationBailout:P}=l,v="/api/admin/transactions/clear/route";function g(){return(0,o.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:d})}},3214:(e,r,a)=>{a.d(r,{_:()=>n});var t=a(3524);let n=globalThis.prisma||new t.PrismaClient({log:["query","error","warn"]})}};var r=require("../../../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),t=r.X(0,[638,206],()=>a(657));module.exports=t})();